{"version":3,"sources":["../../src/index.ts","../node_modules/gl-matrix/esm/vec2.js","../node_modules/gl-matrix/esm/vec3.js","../../src/factory.ts","../../src/constant.ts","../../../src/util/event.ts","../../../src/utils/pick.ts","../../../src/utils/deep-assign.ts","../../../src/core/global.ts","../../../../src/adaptor/geometries/point.ts","../../../../src/adaptor/geometries/polygon.ts","../../../../src/plots/pie/index.ts","../../../../src/plots/tiny-line/index.ts","../../../../src/plots/histogram/index.ts","../../../../src/plots/progress/index.ts","../../../../src/plots/progress/adaptor.ts","../../../../src/plots/progress/utils.ts","../../../../src/plots/stock/index.ts","../../../../src/plots/stock/constant.ts","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../../../src/interactions/drill-down.ts","../../../../src/plots/gauge/constants.ts","../node_modules/d3-hierarchy/src/cluster.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/d3-hierarchy/src/treemap/resquarify.js","../../../../src/utils/pattern/util.ts","../../../../src/utils/pattern/dot.ts","../../../../src/utils/pattern/line.ts","../../../../src/utils/pattern/square.ts","../../../../src/utils/pattern/index.ts","../../../../src/plots/liquid/utils.ts","../../../../src/plots/liquid/adaptor.ts","../../../../src/plots/liquid/constants.ts","../../../../../src/plots/liquid/shapes/liquid.ts","../../../../src/plots/liquid/index.ts","../../../../src/plots/line/constants.ts","../../../../../src/plots/line/interactions/marker-active.ts","../../../../../src/plots/line/interactions/index.ts","../../../../src/plots/line/index.ts","../../../../src/plots/scatter/constant.ts","../../../../src/plots/scatter/index.ts","../../../../../src/plots/gauge/shapes/indicator.ts","../../../../../src/plots/gauge/shapes/meter-gauge.ts","../../../../src/plots/gauge/index.ts","../../../../src/plots/area/constants.ts","../../../../src/plots/area/index.ts","../../../../src/plots/column/constants.ts","../../../../src/plots/column/index.ts","../../../../src/plots/bar/constants.ts","../../../../src/plots/bar/index.ts","../../../../src/plots/tiny-column/constants.ts","../../../../src/plots/tiny-column/index.ts","../../../../src/plots/tiny-area/constants.ts","../../../../src/plots/tiny-area/index.ts","../../../../src/plots/ring-progress/constants.ts","../../../../src/plots/ring-progress/index.ts","../node_modules/detect-browser/es/index.js","../../../src/util/state.ts","../node_modules/size-sensor/lib/debounce.js","../node_modules/size-sensor/lib/constant.js","../../../src/types/index.ts","../../../../src/plots/area/adaptor.ts","../../../src/utils/conversion.ts","../../../../src/plots/bar/adaptor.ts","../../../../src/plots/pie/adaptor.ts","../../../../src/plots/pie/contants.ts","../../../../src/plots/pie/utils.ts","../../../src/utils/matrix.ts","../../../src/interactions/drag-move.ts","../../../../src/plots/tiny-line/adaptor.ts","../../../../src/plots/tiny-column/adaptor.ts","../../../../src/utils/transform/histogram.ts","../../../../src/plots/histogram/adaptor.ts","../../../../src/plots/histogram/constant.ts","../../../../src/plots/progress/constants.ts","../../../../src/plots/ring-progress/adaptor.ts","../node_modules/fmin/build/fmin.js","../../../../src/plots/stock/adaptor.ts","../../../../src/plots/stock/utils.ts","../node_modules/d3-hierarchy/src/partition.js","../node_modules/d3-hierarchy/src/treemap/round.js","../../../../src/utils/hierarchy/treemap.ts","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/treemap/index.js","../../../../src/plots/gauge/adaptor.ts","../../../../src/plots/gauge/utils.ts","../../../src/plugin/index.ts","../../../../src/plots/mix/utils.ts","../../src/lab.ts","../../../../src/utils/color/blend.ts","../../../../../src/plots/venn/layout/circleintersection.ts","../../../../../src/plots/venn/layout/layout.ts","../../../../../src/plots/venn/layout/diagram.ts","../../../../src/plots/venn/constant.ts","../../../../src/plots/venn/utils.ts","../../../../src/plots/venn/shape.ts","../../../../src/plots/venn/label.ts","../../../../../src/plots/venn/interactions/util.ts","../../../../../../src/plots/venn/interactions/actions/active.ts","../../../../../../src/plots/venn/interactions/actions/highlight.ts","../../../../../../src/plots/venn/interactions/actions/selected.ts","../../../../../src/plots/venn/interactions/index.ts","../../../../src/plots/venn/adaptor.ts","../../../../src/plots/venn/index.ts","../../../../../src/plots/sankey/sankey/align.ts","../../../../../src/plots/sankey/sankey/helper.ts","../../../../../src/plots/sankey/sankey/sankey.ts","../../../../src/plots/sankey/layout.ts","../../../../src/plots/sankey/circle.ts","../../../../src/plots/sankey/helper.ts","../../../../src/plots/sankey/constant.ts","../../../../src/plots/sankey/adaptor.ts","../../../../../../src/plots/sankey/interactions/actions/node-drag.ts","../../../../../src/plots/sankey/interactions/node-draggable.ts","../../../../src/plots/sankey/index.ts","../../../src/util/graphic.ts","../../../src/annotation/line.ts","../../../src/annotation/text.ts","../../../src/annotation/arc.ts","../../../src/annotation/region.ts","../../../src/annotation/image.ts","../../../src/annotation/data-marker.ts","../../../src/annotation/data-region.ts","../../../src/annotation/region-filter.ts","../../../src/annotation/shape.ts","../../../src/annotation/html.ts","../../../../src/plots/dual-axes/types.ts","../../../../src/plots/dual-axes/constant.ts","../../../../../src/plots/dual-axes/util/option.ts","../../../../../src/plots/dual-axes/util/legend.ts","../../../../../src/plots/dual-axes/util/render-sider.ts","../../../../src/plots/dual-axes/adaptor.ts","../../../../../src/plots/dual-axes/util/geometry.ts","../../../../src/plots/dual-axes/index.ts","../../../src/axis/base.ts","../../../../src/axis/overlap/auto-ellipsis.ts","../../../../src/axis/overlap/auto-hide.ts","../../../../src/axis/overlap/auto-rotate.ts","../../../src/axis/line.ts","../../../src/axis/circle.ts","../../../src/crosshair/base.ts","../../../src/crosshair/line.ts","../../../src/crosshair/circle.ts","../../../src/crosshair/css-const.ts","../../../src/crosshair/html-theme.ts","../../../src/crosshair/html.ts","../../../src/trend/constant.ts","../../../src/trend/path.ts","../../../src/trend/trend.ts","../../../src/slider/handler.ts","../../../src/slider/constant.ts","../../../src/slider/slider.ts","../../../../src/utils/transform/word-cloud.ts","../../../../src/plots/word-cloud/utils.ts","../../../../src/plots/word-cloud/constant.ts","../../../../src/plots/word-cloud/adaptor.ts","../../../../../src/plots/word-cloud/shapes/word-cloud.ts","../../../../src/plots/word-cloud/index.ts","../../../../src/plots/sunburst/constant.ts","../../../../src/utils/hierarchy/partition.ts","../../../../src/plots/sunburst/utils.ts","../../../../src/plots/sunburst/adaptor.ts","../../../../src/plots/sunburst/index.ts","../../../../src/utils/hierarchy/pack.ts","../../../../src/plots/circle-packing/utils.ts","../../../../src/plots/circle-packing/constant.ts","../../../../src/plots/circle-packing/adaptor.ts","../../../../src/plots/circle-packing/index.ts","../../../../../src/plots/funnel/geometries/common.ts","../../../../../src/plots/funnel/geometries/basic.ts","../../../../../src/plots/funnel/geometries/compare.ts","../../../../../src/plots/funnel/geometries/facet.ts","../../../../../src/plots/funnel/geometries/dynamic-height.ts","../../../../src/plots/funnel/adaptor.ts","../../../../src/plots/heatmap/adaptor.ts","../../../../src/plots/heatmap/constant.ts","../../../../../src/plots/heatmap/shapes/circle.ts","../../../../../src/plots/heatmap/shapes/square.ts","../../../../src/plots/heatmap/index.ts","../../../../src/utils/transform/quantile.ts","../../../../src/plots/violin/utils.ts","../../../../src/plots/violin/constant.ts","../../../../src/plots/violin/adaptor.ts","../../../../src/plots/violin/index.ts","../../../../src/plots/waterfall/constant.ts","../../../../src/plots/waterfall/utils.ts","../../../../src/plots/waterfall/adaptor.ts","../../../../src/plots/waterfall/shape.ts","../../../../src/plots/waterfall/index.ts","../../../../src/plots/treemap/utils.ts","../../../../src/plots/treemap/adaptor.ts","../../../../src/plots/treemap/constant.ts","../../../../src/plots/treemap/index.ts","../../../../src/plots/radar/adaptor.ts","../../../../../src/plots/radar/interactions/radar-tooltip-action.ts","../../../../../src/plots/radar/interactions/index.ts","../../../../src/plots/radar/index.ts","../../../../src/plots/box/constant.ts","../../../../src/plots/box/utils.ts","../../../../src/plots/box/adaptor.ts","../../../../src/plots/box/index.ts","../../../../src/plots/bullet/utils.ts","../../../../src/plots/bullet/adaptor.ts","../../../../src/plots/bullet/constant.ts","../../../../src/plots/bullet/index.ts","../../../../src/plots/radial-bar/utils.ts","../../../../src/plots/radial-bar/adaptor.ts","../../../../src/plots/radial-bar/constant.ts","../../../../src/plots/radial-bar/index.ts","../../../../src/plots/bidirectional-bar/constant.ts","../../../../src/plots/bidirectional-bar/utils.ts","../../../../src/plots/bidirectional-bar/adaptor.ts","../../../../src/plots/bidirectional-bar/index.ts","../../../../src/utils/transform/chord.ts","../../../../src/plots/chord/constant.ts","../../../../src/plots/chord/adaptor.ts","../../../../src/plots/chord/index.ts","../../../../src/plots/facet/adaptor.ts","../../../../src/plots/facet/utils.ts","../../../../src/plots/facet/constant.ts","../../../../src/plots/facet/index.ts","../../../../../../src/plots/pie/interactions/actions/legend-active.ts","../../../../../../src/plots/pie/interactions/actions/statistic-active.ts","../../../../../src/plots/pie/interactions/util.ts","../../../../../src/plots/pie/interactions/index.ts","../../../src/grid/base.ts","../../../src/grid/circle.ts","../../../src/grid/line.ts","../../../src/legend/base.ts","../../../src/legend/category.ts","../../../src/legend/continuous.ts","../../../src/tooltip/html-theme.ts","../../../src/tooltip/html.ts","../../../src/util/align.ts","../../../../src/plots/rose/adaptor.ts","../../../../src/plots/rose/constant.ts","../../../../src/plots/rose/index.ts","../../../../src/interactions/actions/reset-button.ts","../../../src/interactions/brush.ts","../../../src/adaptor/brush.ts","../../../../src/plots/scatter/util.ts","../../../../src/plots/scatter/adaptor.ts","../../../src/scrollbar/scrollbar.ts","../../../src/adjusts/dodge.ts","../../../src/adjusts/jitter.ts","../../../src/adjusts/stack.ts","../../../src/adjusts/symmetric.ts","../../../src/locales/en_US.ts","../../../src/locales/zh_CN.ts","../node_modules/size-sensor/lib/index.js","../node_modules/size-sensor/lib/sensorPool.js","../node_modules/size-sensor/lib/id.js","../node_modules/size-sensor/lib/sensors/index.js","../node_modules/size-sensor/lib/sensors/object.js","../node_modules/size-sensor/lib/sensors/resizeObserver.js","../node_modules/d3-regression/dist/d3-regression.js","../node_modules/pdfast/src/index.js","../node_modules/pdfast/src/helper.js","../node_modules/@ant-design/plots/es/util/createNode.js","../node_modules/@ant-design/plots/es/util/utils.js","../node_modules/@ant-design/plots/es/hooks/useChart.js","../node_modules/@ant-design/plots/es/util/getChart.js","../node_modules/@ant-design/plots/es/errorBoundary/index.js","../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx","../node_modules/@ant-design/plots/es/util/createLoading.js","../node_modules/@ant-design/plots/es/components/pie/index.js","../node_modules/tslib/tslib.es6.js","../../src/is-array-like.ts","../../src/contains.ts","../../src/filter.ts","../../src/difference.ts","../../src/is-type.ts","../../src/is-function.ts","../../src/is-nil.ts","../../src/is-array.ts","../../src/is-object.ts","../../src/each.ts","../../src/keys.ts","../../src/is-match.ts","../../src/is-object-like.ts","../../src/is-plain-object.ts","../../src/find.ts","../../src/find-index.ts","../../src/first-value.ts","../../src/flatten.ts","../../src/max.ts","../../src/min.ts","../../src/get-range.ts","../../src/pull.ts","../../src/pull-at.ts","../../src/reduce.ts","../../src/remove.ts","../../src/is-string.ts","../../src/sort-by.ts","../../src/uniq.ts","../../src/union.ts","../../src/values-of-key.ts","../../src/head.ts","../../src/last.ts","../../src/ends-with.ts","../../src/every.ts","../../src/some.ts","../../src/group-by.ts","../../src/group-to-map.ts","../../src/group.ts","../../src/parse-radius.ts","../../src/clamp.ts","../../src/fixed-base.ts","../../src/is-number.ts","../../src/is-integer.ts","../../src/is-number-equal.ts","../../src/is-odd.ts","../../src/max-by.ts","../../src/min-by.ts","../../src/mod.ts","../../src/to-radian.ts","../../src/to-degree.ts","../../src/to-integer.ts","../../src/for-in.ts","../../src/has-key.ts","../../src/has.ts","../../src/values.ts","../../src/to-string.ts","../../src/lower-case.ts","../../src/substitute.ts","../../src/upper-first.ts","../../src/get-type.ts","../../src/is-boolean.ts","../../src/is-date.ts","../../src/is-null.ts","../../src/is-prototype.ts","../../src/is-undefined.ts","../../src/is-element.ts","../../src/request-animation-frame.ts","../../src/clear-animation-frame.ts","../../src/mix.ts","../../src/augment.ts","../../src/clone.ts","../../src/debounce.ts","../../src/memoize.ts","../../src/deep-mix.ts","../../src/index-of.ts","../../src/is-empty.ts","../../src/is-equal.ts","../../src/map.ts","../../src/map-values.ts","../../src/get.ts","../../src/set.ts","../../src/pick.ts","../../src/omit.ts","../../src/throttle.ts","../../src/to-array.ts","../../src/unique-id.ts","../../src/noop.ts","../../src/size.ts","../../src/measure-text-width.ts","../../src/get-ellipsis-text.ts","../../src/cache.ts","../../../src/utils/flow.ts","../../../src/utils/template.ts","../../../src/utils/dom.ts","../../../src/utils/geometry.ts","../../../src/utils/label.ts","../../../src/utils/path.ts","../../../src/utils/kebab-case.ts","../../../src/utils/context.ts","../../../src/utils/measure-text.ts","../../../src/core/plot.ts","../../../src/engine/index.ts","../../../src/util/dom.ts","../../src/base.ts","../../../src/attributes/base.ts","../node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","../../../src/attributes/color.ts","../../../src/attributes/opacity.ts","../../../src/attributes/position.ts","../../../src/attributes/shape.ts","../../../src/attributes/size.ts","../../../src/coord/base.ts","../../../src/coord/cartesian.ts","../../../src/coord/helix.ts","../../../src/coord/polar.ts","../../src/dependents.ts","../../../src/util/graphics.ts","../../../src/util/helper.ts","../../../src/util/bbox.ts","../../../src/util/coordinate.ts","../../../src/util/scale.ts","../../../src/util/axis.ts","../../../src/facet/facet.ts","../../../src/facet/index.ts","../../../../src/interaction/action/base.ts","../../../../src/interaction/action/callback.ts","../../../../src/interaction/action/register.ts","../../../../../src/geometry/shape/util/path.ts","../../../../src/interaction/action/util.ts","../../../src/interaction/context.ts","../../../src/interaction/interaction.ts","../../../src/interaction/grammar-interaction.ts","../../../src/interaction/index.ts","../../../../src/theme/util/create-by-style-sheet.ts","../../../../src/theme/style-sheet/light.ts","../../../../src/theme/util/create-theme.ts","../../../src/theme/index.ts","../../../src/util/tooltip.ts","../../../src/util/padding.ts","../../../../src/chart/controller/index.ts","../../../../src/chart/controller/coordinate.ts","../../../src/chart/event.ts","../../../../src/chart/layout/index.ts","../../../../src/chart/util/scale-pool.ts","../../../../src/chart/layout/padding-cal.ts","../../../../src/chart/layout/auto.ts","../../../../src/chart/util/sync-view-padding.ts","../../../src/chart/view.ts","../../../src/chart/chart.ts","../../../../src/chart/controller/base.ts","../../../../src/chart/controller/tooltip.ts","../../../../src/animate/animation/index.ts","../../../src/animate/index.ts","../../../../src/geometry/shape/constant.ts","../../../../src/geometry/element/index.ts","../../../../src/geometry/label/index.ts","../../../../src/geometry/shape/base.ts","../../../../src/geometry/util/is-model-change.ts","../../../../src/geometry/util/parse-fields.ts","../../../../src/geometry/util/diff.ts","../../../src/geometry/base.ts","../../../../src/geometry/util/group-data.ts","../../../src/util/transform.ts","../../../../../src/geometry/label/util/index.ts","../../../src/component/update-label.ts","../../../src/component/labels.ts","../../../../src/geometry/label/base.ts","../../../src/util/attr.ts","../../../src/util/marker.ts","../../../src/util/legend.ts","../../../../../src/geometry/shape/util/get-path-points.ts","../../../../../src/geometry/shape/util/get-style.ts","../../../../../src/geometry/shape/util/split-points.ts","../../../../../src/geometry/shape/line/util.ts","../../../../../src/geometry/shape/line/index.ts","../../src/core.ts","../../../../src/theme/style-sheet/dark.ts","../../../src/util/util.ts","../../../src/util/parse.ts","../../../src/util/arc-params.ts","../../../src/util/arrow.ts","../../../src/util/draw.ts","../../../src/shape/base.ts","../../../src/shape/circle.ts","../../../src/shape/ellipse.ts","../../../src/shape/image.ts","../../../../src/util/in-stroke/line.ts","../../../src/shape/line.ts","../../../src/shape/marker.ts","../../../../src/util/in-path/point-in-path.ts","../../../../src/util/in-path/polygon.ts","../../../../src/util/in-stroke/arc.ts","../../../src/util/path.ts","../../../src/shape/path.ts","../../../../src/util/in-stroke/polyline.ts","../../../src/shape/polygon.ts","../../../src/shape/polyline.ts","../../../src/shape/rect.ts","../../../../src/util/in-stroke/rect-radius.ts","../../../../src/util/in-stroke/rect.ts","../../../src/shape/text.ts","../../../src/util/hit.ts","../../src/canvas.ts","../../../src/util/svg.ts","../../../src/shape/dom.ts","../../../../src/shape/marker/symbols.ts","../../../../src/shape/marker/index.ts","../../../src/util/format.ts","../../../src/defs/gradient.ts","../../../src/defs/shadow.ts","../../../src/defs/arrow.ts","../../../src/defs/clip.ts","../../../src/defs/pattern.ts","../../../src/defs/index.ts","../../../src/geometry/path.ts","../../../../../src/geometry/shape/area/util.ts","../../../../../src/geometry/shape/area/index.ts","../../../src/geometry/area.ts","../../../../../src/geometry/shape/edge/index.ts","../../../src/geometry/edge.ts","../../../src/geometry/heatmap.ts","../../../../../src/geometry/shape/interval/util.ts","../../../../../src/geometry/shape/interval/index.ts","../../../../src/geometry/util/shape-size.ts","../../../src/geometry/interval.ts","../../../src/geometry/line.ts","../../../../../src/geometry/shape/point/util.ts","../../../../../src/geometry/shape/point/index.ts","../../../src/geometry/point.ts","../../../../../src/geometry/shape/polygon/index.ts","../../../src/geometry/polygon.ts","../../../src/geometry/schema.ts","../../../../../src/geometry/shape/schema/index.ts","../../../../../src/geometry/shape/violin/index.ts","../../../src/geometry/violin.ts","../../../../../src/geometry/shape/edge/util.ts","../../../../../src/geometry/shape/area/line.ts","../../../../../src/geometry/shape/area/smooth.ts","../../../../../src/geometry/shape/area/smooth-line.ts","../../../../../src/geometry/shape/edge/arc.ts","../../../../../src/geometry/shape/edge/smooth.ts","../../../../../src/geometry/shape/edge/vhv.ts","../../../../../src/geometry/shape/interval/funnel.ts","../../../../../src/geometry/shape/interval/hollow-rect.ts","../../../../../src/geometry/shape/interval/line.ts","../../../../../src/geometry/shape/interval/pyramid.ts","../../../../../src/geometry/shape/interval/tick.ts","../../../../../src/geometry/shape/line/step.ts","../../../../../src/geometry/shape/schema/box.ts","../../../../../src/geometry/shape/schema/candle.ts","../../../../../src/geometry/shape/polygon/square.ts","../../../../../src/geometry/shape/point/hollow.ts","../../../../../src/geometry/shape/point/image.ts","../../../../../src/geometry/shape/point/solid.ts","../../../../../src/geometry/shape/violin/smooth.ts","../../../../../src/geometry/shape/violin/hollow.ts","../../../../src/geometry/label/interval.ts","../../../../src/geometry/label/polar.ts","../../../../src/geometry/label/pie.ts","../../../../../../src/geometry/label/layout/pie/util.ts","../../../../../src/geometry/label/layout/overlap.ts","../../../src/util/collision-detect.ts","../../../../../../src/geometry/label/layout/worker/hide-overlap.ts","../../../../../src/geometry/label/layout/hide-overlap.ts","../../../../../src/geometry/label/util/createWorker.ts","../../../src/util/color.ts","../../../src/util/context.ts","../../../../../../src/geometry/label/layout/interval/adjust-position.ts","../../../../../../src/geometry/label/layout/point/adjust-position.ts","../../../../../../src/geometry/label/layout/path/adjust-position.ts","../../../src/util/text.ts","../../../../src/animate/animation/util.ts","../../../../src/animate/animation/sector-path-update.ts","../../../../src/animate/animation/zoom.ts","../../../src/util/facet.ts","../../../src/facet/circle.ts","../../../src/facet/list.ts","../../../src/facet/matrix.ts","../../../src/facet/mirror.ts","../../../src/facet/rect.ts","../../../src/facet/tree.ts","../../../src/util/stat.ts","../../../src/util/annotation.ts","../../../../src/chart/controller/annotation.ts","../../../src/util/grid.ts","../../../../src/chart/controller/axis.ts","../../../src/util/direction.ts","../../../../src/chart/controller/legend.ts","../../../../src/chart/controller/slider.ts","../../../../src/chart/controller/scrollbar.ts","../../../../src/interaction/action/active-region.ts","../../../../../../src/interaction/action/component/tooltip/geometry.ts","../../../../../../src/interaction/action/component/tooltip/sibling.ts","../../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","../../../../../src/interaction/action/element/state-base.ts","../../../../../src/interaction/action/element/state.ts","../../../../../src/interaction/action/element/active.ts","../../../../../src/interaction/action/element/link-by-color.ts","../../../../../src/interaction/action/element/range-state.ts","../../../../../src/interaction/action/element/range-active.ts","../../../../../src/interaction/action/element/single-state.ts","../../../../../src/interaction/action/element/single-active.ts","../../../../../src/interaction/action/element/highlight-util.ts","../../../../../src/interaction/action/element/highlight.ts","../../../../../src/interaction/action/element/range-highlight.ts","../../../../../src/interaction/action/element/highlight-by-color.ts","../../../../../src/interaction/action/element/highlight-by-x.ts","../../../../../src/interaction/action/element/single-highlight.ts","../../../../../src/interaction/action/element/range-selected.ts","../../../../../src/interaction/action/element/selected.ts","../../../../../src/interaction/action/element/single-selected.ts","../../../../../src/interaction/action/component/list-state.ts","../../../../../src/interaction/action/component/list-active.ts","../../../../../src/interaction/action/component/list-highlight-util.ts","../../../../../src/interaction/action/component/list-highlight.ts","../../../../../src/interaction/action/component/list-selected.ts","../../../../../src/interaction/action/component/list-unchecked.ts","../../../../../src/interaction/action/component/list-checked.ts","../../../../../src/interaction/action/component/list-focus.ts","../../../../../src/interaction/action/component/list-radio.ts","../../../../../src/interaction/action/mask/base.ts","../../../../../src/interaction/action/mask/circle.ts","../../../../../src/interaction/action/mask/rect.ts","../../../../../src/interaction/action/mask/dim-rect.ts","../../../../../src/interaction/action/data/range-filter.ts","../../../../../src/interaction/action/mask/path.ts","../../../../../src/interaction/action/mask/smooth-path.ts","../../../../src/interaction/action/cursor.ts","../../../../../src/interaction/action/data/filter.ts","../../../../../src/interaction/action/data/sibling-filter.ts","../../../../../src/interaction/action/element/filter.ts","../../../../../src/interaction/action/element/sibling-filter.ts","../../../../../src/interaction/action/view/button.ts","../../../../../src/interaction/action/view/drag.ts","../../../../../src/interaction/action/view/move.ts","../../../../../src/interaction/action/view/scale-transform.ts","../../../../../src/interaction/action/view/scale-translate.ts","../../../../../src/interaction/action/view/scale-zoom.ts","../../../../../src/interaction/action/view/mousewheel-scroll.ts","../../../../../../src/interaction/action/component/axis/axis-description.ts","../../../../../../src/geometry/label/layout/pie/distribute.ts","../../../../../src/geometry/label/layout/limit-in-shape.ts","../../../../../src/geometry/label/layout/limit-in-canvas.ts","../../../../../src/geometry/label/layout/limit-in-plot.ts","../../../../../../src/geometry/label/layout/pie/outer.ts","../../../../../src/geometry/label/layout/adjust-color.ts","../../../../../../src/geometry/label/layout/interval/hide-overlap.ts","../../../../../../src/geometry/label/layout/pie/spider.ts","../../../../src/animate/animation/fade.ts","../../../../src/animate/animation/grow-in.ts","../../../../src/animate/animation/scale-in.ts","../../../../src/animate/animation/wave-in.ts","../../../../src/animate/animation/position-update.ts","../../../../src/animate/animation/path-in.ts","../../../src/adaptor/common.ts","../../../../src/adaptor/geometries/area.ts","../../../../src/adaptor/geometries/line.ts","../../../../src/adaptor/geometries/interval.ts","../../../../src/adaptor/geometries/edge.ts","../../../../src/adaptor/geometries/schema.ts","../../../../src/adaptor/geometries/violin.ts","../../../src/event/graph-event.ts","../../../src/abstract/base.ts","../../../src/util/matrix.ts","../../../src/abstract/element.ts","../../../src/abstract/container.ts","../node_modules/d3-timer/src/timer.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/quad.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/poly.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/math.js","../node_modules/d3-ease/src/exp.js","../node_modules/d3-ease/src/circle.js","../node_modules/d3-ease/src/bounce.js","../node_modules/d3-ease/src/back.js","../node_modules/d3-ease/src/elastic.js","../../../src/animate/register.ts","../../../src/animate/timeline.ts","../../../src/event/event-contoller.ts","../../../src/abstract/canvas.ts","../../../src/abstract/group.ts","../../../src/abstract/shape.ts","../../../src/bbox/register.ts","../../../src/bbox/rect.ts","../../../src/bbox/circle.ts","../../../src/bbox/util.ts","../../../src/bbox/polyline.ts","../../../src/util/offscreen.ts","../../../src/bbox/text.ts","../../../src/bbox/path.ts","../../../src/bbox/index.ts","../../../src/bbox/polygon.ts","../../../src/bbox/line.ts","../../../src/bbox/ellipse.ts","../../../src/abstract/group-component.ts","../../src/ext.ts","../../../../src/adaptor/geometries/base.ts","../../../src/util/theme.ts","../../src/util.ts","../../src/line.ts","../../src/bezier.ts","../../src/quadratic.ts","../../src/cubic.ts","../../src/ellipse.ts","../../src/arc.ts","../../src/segments.ts","../../src/polyline.ts","../../../src/utils/tooltip.ts","../node_modules/gl-matrix/esm/mat3.js","../../../src/adjusts/adjust.ts","../../src/add-event-listener.ts","../../src/create-dom.ts","../../src/get-style.ts","../../src/get-outer-height.ts","../../src/get-height.ts","../../src/get-outer-width.ts","../../src/get-width.ts","../../src/modify-css.ts","../../../src/utils/padding.ts","../../../src/adaptor/pattern.ts","../../../../src/plots/funnel/constant.ts","../../../src/tick-method/register.ts","../../../src/category/base.ts","../../src/fecha.ts","../../../src/util/time.ts","../../../src/util/bisector.ts","../../../src/category/time.ts","../../../src/continuous/base.ts","../../../src/continuous/linear.ts","../../../src/util/math.ts","../../../src/continuous/log.ts","../../../src/continuous/pow.ts","../../../src/continuous/time.ts","../../../src/continuous/quantize.ts","../../../src/continuous/quantile.ts","../../../src/identity/index.ts","../../../src/tick-method/cat.ts","../../../src/util/d3-linear.ts","../../../src/util/interval.ts","../../../src/util/strict-limit.ts","../../../src/util/pretty-number.ts","../../../src/util/extended.ts","../../../src/util/pretty.ts","../../../src/tick-method/quantile.ts","../../../src/tick-method/time-pretty.ts","../../../src/tick-method/index.ts","../../../src/tick-method/time-cat.ts","../../../src/tick-method/linear.ts","../../../src/tick-method/r-prettry.ts","../../../src/tick-method/time.ts","../../../src/tick-method/log.ts","../../../src/tick-method/pow.ts","../../../src/tick-method/d3-linear.ts","../../src/parse-path.ts","../../src/catmull-rom-2-bezier.ts","../../src/parse-path-string.ts","../../src/path-2-absolute.ts","../../../src/process/arc-2-cubic.ts","../../src/get-arc-params.ts","../../src/path-2-segments.ts","../../src/get-line-intersect.ts","../../src/point-in-polygon.ts","../../src/is-polygons-intersect.ts","../../../../src/utils/transform/percent.ts","../../../../src/plots/tiny-area/adaptor.ts","../../../../src/plots/tiny-line/utils.ts","../node_modules/d3-hierarchy/src/treemap/dice.js","../../../src/adaptor/conversion-tag.ts","../../../src/adaptor/connected-area.ts","../../../../src/plots/column/adaptor.ts","../node_modules/gl-matrix/esm/common.js","../../../src/abstract/html-component.ts","../../../src/core/locale.ts","../../../src/utils/invariant.ts","../../../src/utils/view.ts","../../../src/utils/number.ts","../../../src/utils/data.ts","../../../../src/plots/tiny-line/constants.ts","../../../../src/utils/hierarchy/util.ts","../node_modules/d3-hierarchy/src/treemap/slice.js","../../../../src/plots/mix/adaptor.ts","../../../../../src/plots/mix/interactions/association.ts","../../../../../src/plots/mix/interactions/utils.ts","../../../../src/plots/mix/index.ts","../../../src/util/label.ts","../node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","../../../src/abstract/component.ts","../../../src/tooltip/css-const.ts","../../../src/utils/statistic.ts","../../../../src/plots/line/adaptor.ts","../../../../src/plots/funnel/index.ts","../../../../src/interactions/actions/drill-down.ts","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js"],"names":["EventEmitter","evt","callback","once","_events","push","on","args","events","wildcardEvents","doEmit","es","length","i","splice","_this","apply","length_1","create","out","glMatrix","Float32Array","clone","a","fromValues","x","y","copy","set","add","b","subtract","multiply","divide","ceil","Math","floor","min","max","round","scale","scaleAndAdd","distance","hypot","squaredDistance","squaredLength","negate","inverse","normalize","len","sqrt","dot","cross","z","lerp","t","ax","ay","random","r","PI","cos","sin","transformMat2","m","transformMat2d","transformMat3","transformMat4","rotate","rad","p0","p1","sinC","cosC","angle","x1","y1","x2","y2","mag","cosine","acos","zero","str","exactEquals","equals","a0","a1","b0","b1","abs","sub","mul","div","dist","sqrDist","sqrLen","forEach","vec","stride","offset","count","fn","arg","l","az","bx","by","bz","hermite","c","d","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","w","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","p","rotateY","rotateZ","a2","b2","ADJUST_MAP","getAdjust","type","toLowerCase","registerAdjust","ctor","Error","DEFAULT_Y","MARGIN_RATIO","DODGE_RATIO","GAP","propagationDelegate","group","eventName","eventObject","event","GraphEvent","target","propagationPath","emitDelegation","parent","getParent","pick","obj","keys","key","v","undefined","toString","isType","value","call","isArray","isPlainObject","isObjectLike","proto","Object","getPrototypeOf","deep","src","level","maxLevel","prototype","hasOwnProperty","concat","deepAssign","rst","GLOBAL","locale","point","params","options","xField","yField","seriesField","sizeField","shapeField","tooltip","useDeferredLabel","getTooltipMapping","fields","formatter","geometry","colorField","tooltipFields","mapping","polygon","__extends","Pie","DEFAULT_OPTIONS","data","this","chart","emit","VIEW_LIFE_CIRCLE","BEFORE_CHANGE_DATA","Event","fromData","prevOptions","angleField","prevData","processIllegalData","curData","isAllZero","update","updateOption","pieAnnotation","render","AFTER_CHANGE_DATA","getDefaultOptions","adaptor","Plot","TinyLine","meta","changeData","getTinyData","Histogram","binField","binNumber","binWidth","stackField","binHistogram","Progress","percent","getProgressData","progressStyle","color","barWidthRatio","isStack","widthRatio","interval","style","isString","DEFAULT_COLOR","zIndexReversed","sortZIndex","axis","legend","coordinate","transpose","flow","animation","theme","annotation","clampPercent","clamp","isRealNumber","Stock","getStockData","Y_FIELD","TREND_FIELD","TREND_UP","TREND_DOWN","showMarkers","showCrosshairs","shared","crosshairs","follow","text","defaultContent","items","textContent","item","title","position","content","fill","textBackground","padding","interactions","risingFill","fallingFill","optional","f","required","place","dx","dy","d2","intersects","dr","score","node","_","next","ab","Node","circle","previous","packEnclose","circles","n","array","aa","ca","j","k","sj","sk","pack","enclose","extendBasis","B","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","enclosesWeak","encloseBasis","r1","r2","x21","y21","r21","x3","y3","r3","a3","b3","c2","c3","d1","d3","xa","xb","ya","yb","A","C","e","shuffle","Array","from","isParentNode","context","get","children","inCenter","view","getCoordinate","innerRadius","center","centerX","centerY","getRadius","registerAction","DrillDownAction","registerInteraction","showEnable","trigger","action","isEnable","start","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","range","ticks","radius","startAngle","endAngle","syncViewPadding","line","label","textAlign","textBaseline","subTickLine","tickLine","grid","indicator","pointer","lineWidth","lineCap","pin","statistic","_a","sync","tickCount","tickInterval","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","root","previousNode","eachAfter","reduce","meanX","maxY","left","leafLeft","right","leafRight","x0","arguments","size","preroot","depth","ambiguous","defaultId","id","defaultParentId","parentId","stratify","nodeId","nodeKey","nodes","nodeByKey","Map","has","eachBefore","computeHeight","nextLeft","nextRight","moveSubtree","wm","wp","shift","change","s","nextAncestor","vim","ancestor","TreeNode","tree","child","pop","treeRoot","firstWalk","secondWalk","sizeNode","bottom","tx","kx","ky","siblings","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","y0","sum","sums","partition","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","slice","dice","custom","ratio","resquarify","rows","_squarify","row","treemapDice","treemapSlice","squarifyRatio","phi","getPixelRatio","window","devicePixelRatio","initCanvas","width","height","canvas","document","createElement","pixelRatio","getContext","drawBackground","cfg","backgroundColor","opacity","globalAlpha","fillStyle","beginPath","fillRect","closePath","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","transformMatrix","dpr","rotation","radian","defaultDotPatternCfg","fillOpacity","stroke","drawDot","strokeStyle","arc","defaultLinePatternCfg","spacing","strokeOpacity","createLinePattern","lineCfg","ctx","path","Path2D","drawLine","pattern","createPattern","matrix","setTransform","defaultSquarePatternCfg","drawSquare","strokeRect","getCanvasPattern","dotCfg","dots","_i","createDotPattern","squareCfg","squares","createSquarePattern","getLiquidData","liquidStyle","outline","wave","shape","getTheme","defaultColor","ext","customInfo","background","updated","getController","clear","metaFormatter","toFixed","contentOpt","isNil","renderStatistic","plotType","interaction","fontSize","lineHeight","border","factor","getWaterWavePositions","stage","waveLength","amplitude","getWaterWavePath","waterLevel","phase","cx","cy","curves","_phase","waveRight","pos","builtInShapeByName","h","theta","asin","cpX","cpY","rx","ry","diamond","triangle","rect","registerShape","draw","container","radio","waveCount","minX","points","Infinity","parsePoint","minXPoint","halfWidth","waveAttrs","attrs","getFillAttrs","outlineAttrs","mix","isNumber","getLineAttrs","shapePath","waves","addGroup","name","clipPath","setClip","clip","bbox","getBBox","maxX","minY","idx","addShape","transform","stopAnimate","animate","duration","repeat","console","warn","addWaterWave","Liquid","MarkerActiveAction","getView","geometries","filter","geom","each","elements","element","active","findIndex","items_1","setState","InteractionAction","end","Line","showTitle","_super","BEFORE_RENDER","source","BRUSH_FILTER_EVENTS","FILTER","filteredData","filterData","getData","_b","RESET","Scatter","transformOptions","meter","STEP","_c","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","INTERVAL","getCenter","Util","getAngle","START_ANGLE","END_ANGLE","getSectorPath","Gauge","indicatorView","views","find","getIndicatorData","rangeView","getRangeData","Area","isPercent","getDataWhetherPercentage","columnWidthRatio","marginRatio","Column","Bar","xAxis","yAxis","switchedFieldOptions","DEFAULT_TOOLTIP_OPTIONS","customContent","containerTpl","itemTpl","domStyles","appendPadding","TinyColumn","areaStyle","TinyArea","fontWeight","RingProgress","__spreadArray","to","ar","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","browser","regex","uaMatch","exec","matchedRule","match","versionParts","split","join","output","ii","createVersionParts","detectOS","searchBotMatch","getStatesStyle","elementName","stateStyles","styleName","styles","state","defineProperty","exports","delay","timer","_len","_key","clearTimeout","setTimeout","SensorTabIndex","SensorClassName","SizeSensorId","pointMapping","lineMapping","startOnZero","pointState","chartData","tooltipOptions","__assign","datum","Number","primary","area","lineParams","omit","pointParams","areaGeometry","findGeometry","layout","transformLabel","adjust","g","transformations","slider","limitInPlot","conversionTagFormatter","prev","defaultOptions","top","verticalAxis","horizontalAxis","coordinateOptions","barStyle","minBarWidth","maxBarWidth","barBackground","columnAdaptor","columnStyle","minColumnWidth","maxColumnWidth","columnBackground","pieStyle","processData","percentageField_1","map","scales","labelCfg","dataum","index","angleScale","getScaleByField","isFunction","content_1","template","percentage","labelLayoutType","inner","outer","spider","labelLayoutCfg","adaptOffset","transformStatisticOptions","i18n","getLocale","titleOpt_1","contentOpt_1","dataValue","getTotalValue","isEmpty","getMappingFunction","annotations","enable","removeInteraction","startStages_1","PIE_STATISTIC","components","field","total","defaultOffset","endsWith","parseFloat","every","ORIGIN_MATRIX","actions","ulMatrix","__spreadArrays","processing","throttle","wait","leading","trailing","lineStyle","seriesData","X_FIELD","getBinKey","originData_copy","sortBy","values","valuesOfKey","getRange","rangeWidth","_binWidth","_defaultBinNumber","log","LN2","sturges","bins","groups","groupBy","bin","binKey","hasKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","bisect","parameters","maxIterations","tolerance","fA","fB","delta","fMid","zeros","zerosM","ret","norm2","weightedSum","w1","v1","v2","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","fx","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","iteration","sort","history","sortedSimplex","worst","shouldReduce","wolfeLineSearch","pk","current","c1","phi0","phiPrime0","fxprime","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","conjugateGradient","initial","temp","alpha","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","factory","stockStyle","schema","rawFields","baseMeta","AXIS_META_CONFIG_KEYS","close_1","high","low","open_1","positionNode","roundNode","tile","ignoreParentValue","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft","as","treemap","assign","TypeError","getField","tileMethod","d3Hierarchy","prop","indexOf","getAllNodes","defaultRadius","radiusLeaf","packChildren","translateChild","constantZero","constant","squarify","paddingStack","gaugeStyle","indicatorData","createView","rangeData","rangeColor","maxLimit","minLimit","contentOption","transformContent","renderGaugeStatistic","other","processRangeData","P","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","column","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnel","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","Funnel","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","cls","module","error","Stage","Lab","STABLE","DEV","BETA","Mix","blendObject","normal","screen","overlay","darken","lighten","dodge","burn","blend","c0","mode","blendRgbArr","innerBlend","colorToArr","r0","g0","g1","rgbaArr","replace","startsWith","colorUtil","rgb2arr","toRGB","SMALL","intersectionArea","stats","intersectionPoints","intersect","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","atan2","p2","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","distanceFromIntersectArea","overlap","bestInitialLayout","areas","loss","lossFunction","setOverlaps","sets","rowid","weight","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","constraints","getDistanceMatrices","norm","best","xi","yi","xj","yj","dij","constraint","distance_1","constrainedMDSGradient","positions","constrainedMDSLayout","overlaps","getBoundingBox","minMax","xRange","yRange","circleMargin","interior","exterior","margin","computeTextCentre","solution","valid","areaStats","computeTextCentres","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","setid","centre","ID_FIELD","blendMode","selected","inactive","defaultInteractions","getColorMap","memoize","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","JSON","stringify","layoutVennData","LEVEL","WARN","vennData","initialLayout","ids","pairs","addMissingAreas","setid_1","venn","bounds","xScaling","yScaling","scaling","xOffset","yOffset","scaled","scaleSolution","textCenters","circlePath","wide","intersectionAreaPath","test","segments","parsePathString","fillAttrs","defaultStyle","offsetX","offsetY","setMatrix","getMarker","markerCfg","symbol","VennLabel","mappingData","customLabelInfo","GeometryLabel","placeElementsOrdered","elem","toFront","registerGeometryLabel","VennElementActive","syncElementsPos","toggle","reset","getActionClass","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","rollback","colors10","colors20","palette","tempPadding","normalPadding","getAdjustAppendPadding","resolveAllPadding","currSets","filterSets","legalArr","testArr","includes","islegalSets","isEqual","deepMix","pointStyle","viewBBox","schemaGeometry","colorOptions","map_1","transformColor","vennInteraction","MAP_1","Venn","destroyed","forceFit","execAdaptor","targetDepth","justify","sourceLinks","sumBy","arr","func","maxValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","links","nodeById","computeLinkBreadths","link","targetLinks","_d","Sankey","py","linkSort","align","iterations","sankey","computeNodeLinks","fixedValue","computeNodeValues","Set","maxDepth","computeNodeDepths","computeNodeHeights","columns","layer","computeNodeLayers","minValueBy","nodes_6","reorderLinks","initializeNodeBreadths","pow","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","dy_1","reorderNodeLinks","resolveCollisions","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","ALIGN_METHOD","minBy","sankeyLayout","sankeyLayoutOptions","sankeyProcessor","getNodeAlignFunction","layoutData","edge","sx","cutoffCircle","edges","sourceField","targetField","removedData","getNodes","graphMatrix","pre","getMatrix","visited","DFS","dfsNode","getNodeWidthRatio","nodeWidthRatio","getNodePaddingRatio","nodePaddingRatio","transformToViewsData","sankeyLayoutInputData","dataType","weightField","isNodeLink","transformDataToNodeLinkData","isNode","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","uniq","nodeStyle","edgeStyle","nodeState","edgeState","reflect","edgeView","nodeView","nice","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","findViewById","SankeyNodeDragAction","getModel","getNodeView","isNodeElement","prevPoint","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","getOptions","prevEdgeAnimateCfg","getEdgeView","currentPoint","prevDatum","datumGap_1","getWidth","getHeight","nextDatum","newData","name_1","edgeData","Action","isLast","showContent","appear","enter","nodesView","edgesView","renderTag","tagCfg","maxLength","autoEllipsis","isVertical","ellipsisPosition","tagGroup","formatPadding","maxTextLength","ellipsisLabel","backgroundStyle","getCanvasBBox","toBack","applyTranslate","applyRotate","LineAnnotation","getDefaultCfg","locationType","defaultCfg","Theme","textColor","fontFamily","autoRotate","lineColor","renderLine","renderLabel","getElementId","parseInt","getValueByPercent","getLabelPoint","vector","GroupComponent","TextAnnotation","location","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","startPoint","getCirclePoint","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","regionColor","renderRegion","regionToBBox","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","direction","autoAdjust","coordinateBBox","display","renderText","renderPoint","moveElementTo","getShapeAttrs","textAttrs","isVertival","lineLength","findById","textShape","lineShape","overflow","attr","lineDisplay","textStyle","DataRegionAnnotation","region","regionStyle","pointsToBBox","RegionFilterAnnotation","capture","shapeIdx","adjustShapeAttrs","clipBBox","ShapeAnnotation","noop","HtmlAnnotation","alignX","alignY","html","zIndex","getContainer","clearDom","isElement","appendChild","dom","createDom","resetPosition","domWidth","getOuterWidth","domHeight","getOuterHeight","modifyCSS","HtmlComponent","AxisType","DualAxesGeometry","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","autoHide","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","geometryOption","isColumn","getGeometryOption","isRange","transformObjectToArray","transformAttribute","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","userMarker","legendItemName","colorAttribute","getAttribute","getMappingValue","marker","isGeometry","viewId","attributes","getGroupAttributes","attrItems","getLegendItems","doSliderFilter","sliderValue","xScale","getXScale","dataSize","xValues","xTickCount","minIndex","maxIndex","isBetween","getRootView","geometryOptions","allLine","createViews","SORT_MAP","formatData","groupField","isGroup","FIELD_KEY","adjust_1","dodgeBy","customOffset","drawSingleGeometry","themeColor","groupScale","getGroupScales","leftView","rightView","commonInteraction","commonAnnotation","commonTheme","commonAnimation","commonLimitInPlot","isObject","leftLegend_1","rightLegend_1","leftItems","rightItems","delegateObject","field_1","yF","changeVisible","unchecked","legendItem_1","option","originValue","isBoolean","DualAxes","AxisBase","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","iconStyle","descriptionIconFill","descriptionIconStroke","description","labelStyle","tickLineStyle","uncheckedColor","threshold","drawTicks","drawTitle","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","getSideVector","isNumberEqual","base","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","tick","getTickPoint","getSidePoint","tickValue","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","getTextAnchor","getTextBaseline","getMatrixByAngle","getLabelAttrs","processOverlap","labels","getChildren","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","angleTo","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","getElementById","startX","startY","x4","y4","x5","y5","x6","y6","x7","y7","cursor","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","states","tickLineCfg","ellipseLabels","limitLength","ellipsisFlag","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","getAngleByMatrix","isOverlap","first","second","minGap","prevBBox","near","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","reverse","hide","parityHide","firstBBox","getMaxLabelWidth","equidistance","reserveFirst","reserveLast","reserveBoth","last","preLabel","equidistanceWithReverseBoth","show","labelRotate","maxWidth","setLabelsAngle","fixedAngle","customRotate","verticalAxisRotate","horizontalAxisRotate","unfixedAngle","getInnerLayoutBBox","regionX","regionY","axisVector","vec2","verticalVector","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","remove","Circle","large","sweep","vecLen","CrosshairBase","renderBackground","textPoint","getTextPoint","textId","textBBox","LineCrosshair","tangentAngle","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","HtmlCrosshair","crosshairTpl","textTpl","containerClassName","defaultStyles","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","substitute","innerHTML","initCrossHair","toPx","alignText","clientWidth","updateInner","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","smooth","Linear","Category","catmullRom2Bezier","head","unshift","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","currentTarget","originalEvent","stopPropagation","preventDefault","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","addEventListener","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","delegateEmit","removeEventListener","Slider","oldStart","oldEnd","newStart","newEnd","setValue","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","init","trendCfg","minText","maxText","_e","addComponent","component","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","sorted","minBBox","maxBBox","font","spiral","timeInterval","wordCloud","words","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","fontStyle","cloudCanvas","cloud","getImageData","ch","board","tag","dxdy","maxDelta","dt","cloudCollide","collideRects","sprite","sw","lx","msx","contextAndRatio","zeroArray","tags","step","Date","now","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","createMask","can","w32","cxt","drawImage","imageData","tmp","functor","spirals","tagCloud","imageMask","cloudRadians","di","clearRect","maxh","save","measureText","sr","cr","wcr","wsr","hcr","hsr","cw","translate","fillText","strokeText","restore","xoff","yoff","pixels","seen","seenRow","archimedean","rectangular","sign","rawOptions","chartPadding","ele","wordField","wordStyle","autoFit","placementStrategy","numbers","isNaN","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","result","word","containerSize","getContainerSize","resolvePadding","fMax_1","fMin_1","max_1","min_1","rotationSteps","resolveRotate","perSize","WORD_CLOUD_COLOR_FIELD","rotateRatio","getTextAttrs","WordCloud","Promise","res","handler","rej","HTMLImageElement","image_1","Image","crossOrigin","onload","onerror","ERROR","then","catch","triggerResize","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","RAW_FIELDS","NODE_INDEX_FIELD","NODE_ANCESTORS_FIELD","CHILD_NODE_COUNT","hierarchyConfig","sunburstStyle","drilldown","enabled","transformData","activeDepth","ancestorNode","nodeInfo","_f","HIERARCHY_DATA_TRANSFORM_PARAMS","polygonAdaptor","coord","customItems","pathFormatter","valueFormatter","adaptorInteraction","drillDownConfig","baseInteraction","Sunburst","enableDrillDown","packLayout","resolvePaddingForCircle","wSize","hSize","minSize","restWidthPadding","restHeightPadding","finalPadding","finalSize","diameter","tempAppendPadding","appendPaddingByDrilldown","circleSize","nameFormatter","CirclePacking","originData","maxSize","maxYFieldValue","maxBy","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","conversionTagComponent","getLineCoordinate","conversionTag","lineOption","formatter_1","funnelStyle","baseGeometry","isTransposed","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","facet","eachView","rowIndex","columnIndex","formatterData","defaultFacetLabel","viewIndex","FUNNEL_TOTAL_PERCENT","preItemX","PLOYGON_X","preItemY","PLOYGON_Y","defaultOption","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","sizeRatio","heatmapStyle","geometryType","checkedSizeRatio","geometryAdaptor","dautm","sequenceColors","sizeLegend","showLegend","lineDash","parsePoints","maxRadius","maxSideLength","sideLength","Heatmap","quantileSorted","swap","quickselect","exp","sd","quantile","indices","quantileIndex","compare","stack","quantileSelect","multiQuantileSelect","results","toBoxValue","q1","q3","median","toViolinValue","pdfOptions","pdfResults","pdf","violinSize","violinY","transformViolinData","kde","sampleSize","group_1","record","resultList","seriesGroup","series","VIOLIN_Y_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","violinStyle","TOOLTIP_FIELDS","adjustCfg","violinView","violin","boxView","box","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","Violin","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","processed","newYField","isUndefined","dIdx","localeTotalLabel","colorMapping","Y_FIELD_META","alias","labelMode","geometry_1","nextPoints","rectPath","parsePath","getRectPath","leaderLineCfg","linkPath","Waterfall","findInteraction","interactionType","enableInteraction","enableDrillInteraction","curPath","ancestors","rectStyle","basePolygon","viewZoomInteraction","getCanvas","ev","off","breadCrumb","rootText","dividerText","activeTextStyle","Treemap","transData","drillDownInteraction","resetDrillDown","pointOptions","areaOptions","RadarTooltipController","getTooltipCfg","cfgTitle","hintItems","getTooltipItems","dataArray","title_1","result_1","displayTitle","TooltipController","registerComponentController","RadarTooltipAction","getTooltipController","showTooltip","hideTooltip","Radar","BOX_RANGE","OUTLIERS_VIEW_ID","boxStyle","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","syncName","Box","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","String","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","measure","Bullet","getScaleMax","maxAngle","yData","maxValue","formatRadian","actualData","stackedData","valueItem","getStackedData","intervalGeometry","RadialBar","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","groupData","data1","data2","autoPadding","__axisPosition","instance","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","axes","leftGeometry","rightGeometry","cfg_1","leftLabelCfg","positionMap_1","middle","BidirectionalBar","sourceWeight","targetWeight","chordLayout","chordLayoutOptions","chordLayoutInputData","forIn","inEdges","outEdges","frequency","processGraph","method","localeCompare","sortNodes","outputNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","outputLinks","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","labelEmit","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","getAllGeometriesRecursively","Chord","facetAdaptor","facetType","restFacetCfg","viewOfG2","viewOptions","execViewAdaptor","plotOptions","rowTitle","columnTitle","Facet","PieLegendAction","getDelegationObject","item_1","getActiveElements","labelsContainer","elementLabels","getActiveElementLabels","isPolar","middleAngle","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","getGroupedFields","getCurrentElement","initialStatistic","getInitialAnnotation","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","getLayoutBBox","maxHeight","createBBox","resetDraw","drawLegendContent","DEFAULT_PAGE_NAVIGATOR","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","itemStates","itemBackground","pageNavigator","alignRight","nameStyle","markerStyle","itemElement","offsetGroup","createOffScreenGroup","newElement","drawItem","getItemHeight","updateElements","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","applyItemStates","subGroups","findAll","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","arrow","getMatrixByTranslate","itemStates_1","elName","statesStyle","ContinueLegend","colors","track","rail","slidable","defaultLength","getCurrentValue","getValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","prePoint","preValue","curValue","currentValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","localId","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","clipShape","getClip","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","upperFirst","diff","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","float","marginLeft","Tooltip","xCrosshairTpl","yCrosshairTpl","crosshairsRegion","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","visible","xCrosshairDom","yCrosshairDom","initContainer","getHtmlContentNode","resetStyles","applyStyles","hasOneKey","cacheDoms","removeDom","limitBox","getOffset","px","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","parentNode","replaceChild","titleDom","getElementsByClassName","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","toUpperCase","toCSSGradient","substituteObj","domStr","itemDom","applyChildrenStyles","sectorStyle","Rose","BUTTON_ACTION_CONFIG","default","buttonStyle","ButtonAction","buttonCfg","config","getButtonCfg","foregroundGroup","drawText","buttonGroup","buttonShape","convert","drawButton","destroy","isPointInView","isInPlot","getInteractionCfg","brushType","mask","isStartEnable","maskType","maskStyle","isInShape","BRUSH_TYPES","brushInteraction","brush","buttonConfig","button","REGRESSION_MAP","regressionExp","linear","regressionLinear","loess","regressionLoess","regressionLog","poly","regressionPoly","regressionPow","quad","regressionQuad","getPath","pathData","regressionLine","algorithm","reg","xScaleView","yScaleView","getSplinePath","splinePath","isOneX","isOneY","curr","meta_1","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","getMeta","newOptions","shapeLegend","scatterGeometry","scatterAnnotation","quadrant","annotationOptions","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","textOffset","getQuadrantDefaultConfig","top_1","defaultStyle_1","scrollbar","DEFAULT_THEME","trackColor","thumbColor","hover","isMobile","clientX","clientY","startPos","bindLaterEvent","clearEvents","thumbOffset","endPos","updateThumbOffset","thumbLen","getBoundingClientRect","newOffset","validateRange","Scrollbar","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","registerLocale","EN_US_LOCALE","ZH_CN_LOCALE","dodgeRatio","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","xDimensionLegenth","Dodge","groupDataArray","groupedDataArray","mergeData","adjustDataArray","cacheMap","adjustData","dim","frameIndex","getDistribution","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","val","Adjust","Jitter","dimValue","adjustGroup","getAdjustOffset","Cache","NaN","reverseOrder","adjustNames","Stack","processStack","processOneDimStack","positive","negative","xKey","cache","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dimValues","flattenValues","general","increase","decrease","waterfall","ver","bind","_sensorPool","require","cb","sensor","getSensor","unbind","removeSensor","_id","__esModule","_sensors","_constant","Sensors","sensorId","newId","setAttribute","createSensor","removeAttribute","_object","_resizeObserver","ResizeObserver","_debounce","listeners","resizeListener","listener","contentDocument","defaultView","removeChild","getComputedStyle","pointerEvents","newSensor","disconnect","observe","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_s","Symbol","iterator","done","err","u","isFinite","xv","yv","X","Float64Array","Y","ux","uy","visitPoints","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","precision","maxIter","iter","found","mp","ols","uX","uXY","uX2","slope","exponential","domain","YL","XY","XYL","X2Y","ly","xy","_ols2","rSquared","X2","intercept","maxiters","epsilon","bandwidth","_points2","bw","yhat","residuals","robustWeights","i0","i1","W","denom","tricube","xkw","updateInterval","medianResidual","_w","cnt","logarithmic","E","lb","quadratic","X3","X4","n0","X2X2","polynomial","order","o","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","power","YS","LN_2","self","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","inside","gradAccumulator","getExpectedValueFromPdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","findMin","findMax","createNode","mountPoint","className","ReactDOM","deepClone","hasPath","__rest","getOwnPropertySymbols","propertyIsEnumerable","useInit","ChartClass","useRef","chartOptions","onReady","onEvent","reactDomToString","statisticCustomHtml","setPath","statisticDom","processConfig","useEffect","currentConfig","inputConfig","changeType_1","currentKeys_1","chartInstance","toDataURL","encoderOptions","el","downloadImage","imageName","base64","href","download","body","click","extendStatics","setPrototypeOf","__proto__","__","constructor","ErrorBoundary","hasError","renderError","errorTemplate","props","React","message","getDerivedStateFromError","getDerivedStateFromProps","nextProps","Fragment","Component","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","substring","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","React.createElement","role","stopColor","stopOpacity","attributeName","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","ChartLoading","loadingTemplate","alignItems","justifyContent","PieChart","forwardRef","ref","chartRef","loading","rest","useChart","G2plotPie","getChart","useImperativeHandle","__awaiter","thisArg","_arguments","generator","resolve","reject","fulfilled","rejected","__generator","sent","trys","ops","verb","op","__values","__read","il","jl","isArrayLike","contains","difference","isMatch","_keys","predicate","_predicate","fromIndex","firstValue","flatten","filterValues","getMax","getMin","arrPrototype","pullAt","indexes","comparer","keys_1","tmpMap","some","condition","groupToMap","paramscondition_1","unique","parseRadius","fixedBase","substr","isInteger","maxItem","minItem","mod","RADIAN","toRadian","degree","lowerCase","charAt","getType","isDate","isNull","objectProto","isPrototype","Ctor","Element","HTMLDocument","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","_mix","src1","src2","src3","debounce","immediate","timeout","later","callNow","resolver","memoized","_deepMix","valueKeys","otherKeys","identity","object","defaultValue","keyArr","throttled","remaining","cancel","prefix","isArraylike","fontVariant","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","flows","param","RegExp","clientHeight","getAllElements","getAllElementsRecursively","subView","labelOptions","catmullRom2bezier","crp","isLoop","pointList","cp1","cp2","controlPointList","nextPoint","cps","hasConstraint","d0","cp0","smoothBezier","isInCircle","constaint","points2Path","kebabCase","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","createG2","renderer","Chart","getChartSize","localRefresh","chartSize","bindSizeSensor","status","stateObjects","getStates","changeSize","incoming","controller","getComponents","co","extra","unbindSizeSensor","getSchemaAdaptor","EE","LAYER","DIRECTION","COMPONENT_TYPE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","FIELD_ORIGIN","ENGINES","registerEngine","engine","getElementSize","Base","toScaleString","invert","_parseCfg","Attribute","_toOriginParam","steps","leftPercent","names","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","gradient","Color","Position","scaleX","scaleY","Shape","ATTRIBUTE_MAP","registerAttribute","Opacity","Size","originalMatrix","Coordinate","isReflect","vec3","inverted","mat3","convertPoint","applyMatrix","invertMatrix","invertPoint","leftTranslate","leftRotate","isReflectX","isReflectY","s1","s2","leftScale","Cartesian","convertDim","invertDim","Helix","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","vPoint","vStart3","vStart2","xPercent","yPercent","xs","ys","COORDINATE_MAP","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","uniqueValues","polarToCartesian","angleInRadian","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","newAttrs","sourceArray","targetArray","sourceArray_1_1","BBox","subBBox","TOP","TOP_LEFT","TOP_RIGHT","fromRange","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","gap","getXDimensionLength","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","dateRegex","inferScaleType","scaleDef","attrType","createScaleByField","validData","getScale","getDefaultType","getName","getDefaultCategoryScaleRange","isFullCircle","getMaxScale","getAxisRegion","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","getAxisDirection","axisOption","getAxisTitleText","facets","createContainer","generateFacets","renderViews","clearFacetViews","beforeEachView","afterEachView","getLayer","FORE","createFacetViews","facetToView","removeView","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","coordinateOption","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","Facets","registerFacet","addAction","applyCfg","removeAction","CallbackAction","ActionCache","actionName","actionOption","ActionClass","createCallbackAction","_convertArr","_convertArcPath","nextCp0","_points2path","convertPolarPath","cur","transposed","subPath","curPoint","xDim","angleRange","flag","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","getMaskBBox","maskBBox","isElementChange","gEvent","fromShape","toShape","isList","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","shapePoints","shapeBBox","isPolygonsIntersect","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","getElementsByState","stateName","getElementsBy","getElementValue","box1","box2","seg","isInBox","getSilbings","normalPoint","point2Normalize","isInRecords","records","xFiled","isIn","Context","HTMLElement","getPointByClient","getCurrentPoint","isPointInPlot","getCurrentShape","Interaction","initEvents","parseAction","actionStr","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","enterStep","actionCallback","isAllowExecute","afterExecute","nameArr","Interactions","createInteraction","interaciton","getInteraction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","axisGridBorderColor","axisGridBorder","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createAxisStyles","legendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createLegendStyles","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","paletteQualitative10","paletteQualitative20","paletteSequence","shapes","sizes","pyramid","dash","hv","vh","hvh","vhv","square","bowtie","hexagon","plus","hyphen","candle","hollow","common","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","enterable","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","TITLE_CLASS","marginTop","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","token","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","snapEqual","value1","value2","filterYValue","yScale","getYScale","getXDistance","scaleValues","numericValue","getTooltipValueScale","attribute","getAttributesForLegend","attributes_1_1","tmpScale","scaleDefs","findDataByPoint","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","showNil","tooltipTitle","getFields","titleField","titleScale","getText","getTooltipTitle","tooltipOption","addItem","callbackParams","itemCfg","fields_1_1","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray_1_1","elementId","elementsMap","getTooltipItemsByHitShape","getShape","findItemsFromView","geometries_1_1","tooltipItems","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","plugin","wrapperOption","CoordinateController","isTheta","hasAction","execActions","resetMatrix","sy","includeActions","GEvent","defaultLayout","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","delete","PaddingCal","getPadding","calculatePadding","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","exceed","componentPadding","componentBBox","expand","inc","defaultSyncViewPadding","PC","syncPadding","createViewEvent","doPlotEvent","uniqueId","backgroundGroup","middleGroup","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","paint","AFTER_RENDER","BEFORE_CLEAR","coordinateInstance","isDataChanged","isCoordinateChanged","controllers","createdScaleKeys","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","getFacet","opt","existInteraction","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","BG","MID","xScales","getScalesByDim","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","tr","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","registerGeometry","supportCSSTransform","wrapperElement","G","getEngine","Canvas","updateCanvasStyle","bindAutoFit","initDefaultInteractions","ariaOption","ATTR","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","isVisible","getTitle","dataPoint","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","setCapture","guideGroup","tooltipCrosshairsGroup","items_1_1","itemArr","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","uniqItems","subItem","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","textCfg","firstItem","getGuideGroup","childView","originalItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","easing","leave","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","animateType","animateCfg","doAnimate","parsedAnimateCfg","parseAnimateConfig","animateFunction","toAttrs","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","model","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getAnimateCfg","stateStatus","setZIndex","offscreenShape","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","getGroupBase","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","ShapeBase","parsedPath","convertNormalPath","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","removed","keyIncluded","sortable","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjusts","adjustOption","styleFunc","styleOption","animateOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","mappingArray","xScale_1","xField_1","obj1","obj2","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","getStyleCfg","generatePoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1_1","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1_1","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","dimValuesMap","adjustInstance","appendConditions","values_1_1","eachGroup","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","shapesMap","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","rotateRadian","getRotateMatrix","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","getChildByIndex","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","currentShape","deleteShape","shapeAppendCfg","isShape","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","backgroundShape","avg","mapppingArray","labelCfgs","getLabelCfgs","labelContent","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","offsetPoint","getDimValue","isAvg","isFunnel","former","getPolygonCentroid","point1","point2","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","themeMarker","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","half","leftPoints","rightPoints","leftPath","rightPath","getStyle","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","LineShapeFactory","applyToMatrix","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","inBox","intersectRect","isSamePoint","regexLG","regexRG","regexPR","regexColorStop","addStop","addColorStop","parseStyle","gradientStr","tanTheta","tan","tanTheta2","createLinearGradient","parseLineGradient","fy","fr","createRadialGradient","parseRadialGradient","patternStr","complete","parsePattern","CanvasPattern","vMag","vRatio","vAngle","getArcParams","xRotation","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","dTheta","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","drawChildren","skipDraw","checkRefresh","refreshElements","parent_1","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","startMovePoint","command","ArrowUtil","tangent","getStartTangent","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","ellipse","refreshElement","changeType","_cacheCanvasBBox","getRefreshRegion","region1","region2","cacheBox","validCache","validBBox","Group","createPath","_afterDraw","xArr","yArr","viewRange","getViewRange","allowDraw","_applyClip","AbstractGroup","getDefaultAttrs","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","isClipShape","canvasBBox","getCanvasViewBox","strokeAndFill","afterDrawPath","refX","refY","isInStrokeOrPath","AbstractShape","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","isCanvas","nodeName","ImageShape","_setImage","_afterLoading","onAttrChange","swidth","sheight","inLine","LineUtil","pointToLine","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","pointAt","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","isPointInPath","getOffScreenContext","dcmp","onSegment","isInPolygon","isHit","hasArc","cmd","extractPolygons","polygons","polylines","isPointInStroke","segment","QuadUtil","pointDistance","CubicUtil","inArc","PathUtil","isInPolygons","_setPathArr","path2Segments","getSegments","getTotalLength","extractResutl","totalLength","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","pathToCurve","segmentT","segmentL","segmentN","tempLength","startTangent","endTangent","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","r4","Text","_assembleFont","_setText","assembleFont","textArr","subY","spaceingY","_getSpaceingY","getTextHeight","subText","_drawTextArr","_drawText","getRefXY","totalMatrix","getTotalMatrix","multiplyVec2","invertFromMatrix","preTest","isAllowCapture","isClipped","curShape","setDOMSize","_clearFrame","viewRegion","minXArr","minYArr","maxXArr","maxYArr","getMergedRegion","mergeView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","AbstractCanvas","SHAPE_TO_TAGS","polyline","SVG_ATTR_MAP","lineDashOffset","miterLimit","class","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","targetIndex","childNodes","nodeType","currentIndex","insertBefore","targetNext","children_1","targetAttrs","afterAttrsChange","canFill","canStroke","shadow","_setColor","trim","addGradient","addPattern","blur","addShadow","setShadow","elementFromPoint","isEqualNode","Dom","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","autoDraw","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","AreaShapeFactory","EdgeShapeFactory","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1_1","drawGrayScaleBlurredCircle","colored","colorize","imageShape","getImageShape","shadowCanvas","colorAttr","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getFunnelPath","isPyramid","backgroundCfg","backgroundPath","p3","_g","getRectWithCornerRadius","coor","getIntervalRectPath","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","SHAPES","drawPoints","pointPosition","points_1_1","PointShapeFactory","Point","subX","PolygonShapeFactory","Schema","sizeArr","num","normalizeSize","_size","isMin","isMax","ViolinShapeFactory","_sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","getSmoothPath","CORNER_PERCENT","getVHVPath","getLinePoints","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","getBoxPoints","pointsArray","halfSize","getCandleYValues","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","endY","totalHeight","MIN_VALUE","boxes","targets","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidBox","isIntersectRect","rect1Points","rect2Points","code","generateUtils","methods","eventData","parse","postMessage","worker","blob","Blob","BlobBuilder","append","getBlob","Worker","URL","createObjectURL","createWorker","layoutCode","preset","shouldInShape","fromObject","shouldInShapeSingle","hasSome","rightText","doScaleAnimate","endMatrix","direct","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","lastIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnValuesLength","rowValue","rowField","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","facetIndex","Mirror","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getNormalizedValue","getMean","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","xPos","yPos","parsePercentPosition","startIndex","viewData","startXValue","endXValue","parsePosition","topLeft","sp","ep","getCoordinateBBox","start_5","end_5","getRegionPoints","_h","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","_k","html_1","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","getCategoryLegendSizeCfg","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","ticks_1","xScaleValues","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","tickMethod","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","findItemsFromViewRecurisive","ActiveRegion","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","timeStamp","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","EVENTS","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","info","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","clearList","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","updateMask","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","dims","BEFORE_FILTER","normalCurrent","hasDim","reRender","AFTER_FILTER","BEFORE_RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","currentRatio","nextStart","deltaY","isWheelDown","correction","nextRatio","AxisDescription","descriptionTooltipStyle","CanvasEngine","SVGEngine","Edge","greedy","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","labelShapes_1_1","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","nt","times","accessedCache","spiralFill","memoKey","onmessage","onmessageerror","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textBox","DOT_WIDTH","getEllipsisText","labels_1_1","RIGHT_HALF_KEY","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","atan","breakPoint","breakPoint3","xSign","slope1","slope2","drawLabelline","fillWhite","rgb","isContrastColorWhite","moveInShape","filteredLabels","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","annotationController","stepType","otherAdaptor","SPACES","PATH_COMMAND","PATH_VALUES","pathString","paramCounts","catmullRomToBezier","iLen","ellipsePath","pathToAbsolute","pathArray","pa0","mx","my","crz","pa","jj","kk","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","path2","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","pi","fixM","path1","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","z2","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","tvalues","b2ac","sqrtb2ac","t1","t2","mt","jlen","denominator","px2","py2","isPointInsideBBox","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","n1","n2","dots1","dots2","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","defaultPrevented","propagationStopped","removeFromArray","isBrowser","isParent","multiplyMatrix","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","det","MATRIX","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","fromAttrs","getFormatToAttrs","checkExistedAttrs","animations","onFrame","startTime","initAttrs","initAnimate","getDefaultMatrix","setAttr","applyTo","onCanvasChange","currentMatrix","parentMatrix","clipCfg","Cons","getShapeBase","_cloneArrayAttr","cons","cfgName","isPaused","timeline","initTimer","pauseCallback","resumeCallback","formatToAttrs","getTime","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","getEvents","subName","emitDelegateEvent","this_1","delegateTarget","translateX","translateY","newMatrix","targetX","targetY","move","ratioX","ratioY","SHAPE_MAP","setCanvas","setTimeline","taskHead","taskTail","Container","_applyChildrenMarix","preTotalMatrix","groupClass","tmpCfg","TmpGroupClass","_findShape","preParent","_applyElementMatrix","contain","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","stop","extend","definition","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v3","define","channels","displayable","formatHsl","gamma","nogamma","rgbGamma","colorRgb","rgbSpline","spline","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","number","one","string","date","numberArray","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","elasticIn","period","elasticOut","elasticInOut","EASING_MAP","registerEasing","easeFn","IDENTITY_MATRIX","elapsed","d3Ease","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","EventController","_triggerEvent","dragging","_getPointInfo","_emitEvent","draggingShape","_afterDrag","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","_clearEvents","isFirefox","initDom","initTimeline","eventController","layerX","layerY","clientInfo","touches","changedTouches","clearCacheBBox","calculateBBox","calculateCanvasBBox","topRight","bottomLeft","bottomRight","shadowLeft","shadowRight","shadowTop","shadowBottom","inBBox","_isInBBox","isOnlyHitBox","getMethod","mergeBBox","mergeArrowBBox","offScreenCtx","lineCount","getLineSpaceing","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","xAngle","yAngle","getBBoxByArray","measureWidth","getTextWidth","segmentsWithAngle","EllipseArcUtil","getPathBox","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","isRegister","isUpdating","isInit","clearOffScreenCache","offScreenRender","offScreenGroup","deleteElements","applyOffset","initEvent","removeEvent","applyMatrix2BBox","initGroup","getDelegateObject","isComponent","renderInner","getBBoxWithClip","appendDelegateObject","registerElement","restCfg","inst","updateAutoRender","elmentName","originOpacity","originElement","newGroup","originGroup","preElement","childComponent","origChildComponent","newCfg","replaceAttrs","updateAnimation","updateClip","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","transMat","fromTranslation","rotateMat","fromRotation","scaleMat","fromScaling","ang","angleLargeThanPI","vertical","hasClass","cName","EPSILON","minX_1","maxX_1","minY_1","maxY_1","leftTop","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","intersectBBox","newClipShape","offsetPercent","getMappingField","styleField","mappingFields","tileMappingField","activeTextColor","minNum","maxNum","getBBoxRange","piMod","nearestPoint","tCallback","segNum","increaseRate","_t","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","interpolationAt","cubicAt","discSqrt","extremas","disc","divideCubic","c12","c23","cubicLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","xAt","yAt","getPoint","yDim","relativeVector","relativePoint","derivativeXAt","derivativeYAt","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","defaultFields","fromMat4","m00","m01","m02","m10","m11","m12","m20","m21","m22","adjoint","determinant","fromMat2d","fromQuat","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","a4","a5","a6","a7","a8","b4","b5","b6","b7","b8","identityMatrix","translateMatrix","isAdjust","mergedData","getDimValues","adjustDim","eventType","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tbody","thead","tfoot","td","th","$1","offsetHeight","bTop","pTop","pBottom","offsetWidth","bLeft","pLeft","pRight","bRight","mRight","css","currentAppendPadding","PADDING","paddings","normalPaddings","patternOption","seriesValue","methodCache","registerTickMethod","__cfg__","initCfg","Scale","setDomain","getConfig","calculateTicks","translateIndexMap","buildIndexMap","calcPercent","calcValue","scaledValue","domainRange","twoDigitsOptional","twoDigits","literal","shorten","sLen","newArr","monthUpdate","arrName","lowerCaseArr","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","literals","$0","combinedI18nSettings","dateStr","dateInfo","year","month","day","hour","minute","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","requiredField","matches","dateTZ","parser","validateFields","UTC","timeFormat","fecha1","fecha","toTimeStamp","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","getter","_lo","_hi","lo","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","Time","numberValue","minConfig","maxConfig","timeStamps_1","secondMin_1","minTickInterval","Quantize","minTick","minIndexPercent","Quantile","getClass","registerClass","Identity","calculateCatTicks","showLast","lastValue","e10","e5","e2","D3Linear","_domain","tickIncrement","d3ArrayTicks","LN10","snapMultiple","snapType","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","extended","onlyLoose","step_1","dm","log10","cm","minStart","maxStart","i_1","lStep","pretty","unit","nu","ns","getYear","createYear","creatMonth","cat","catTicks","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","d3Linear","registerScale","regexTags","regexDot","REGEX_MD","toSymmetry","needProcess","preParams","upCmd","symetricT","symetricS","nextParams","lastStartMovePointIndex","cp","preSegment","dx1","dy1","dx2","dy2","parseToLines","lines","lineIntersectPolygon","isIntersect","D0","D1","kross","getLineIntersect","points1","points2","isPointInPolygon","lines1","lines2","sumMap","groupValue","getDeepPercent","asField","lineOptions","adjustYMetaByZero","getConversionTagOptionsWithDefaults","horizontal","headSize","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","INTERACTION_MAP","getStartStages","percentData","stackedItem","percentYMeta","columnTooltip","tooltipFormatter_1","isBar","disable","disabled","connectedArea","ARRAY_TYPE","RANDOM","RGB_REG","arr2rgb","toHex","iEl","x16Value","createTmp","getPropertyValue","colorArray","fixedPercent","calColor","gradientColor","cssColor_1","colorStops_1","initCapture","initVisible","containerCss","cssName","LocaleMap","localeObj","BRAND","getMessage","argIndex","getViews","getSiblingViews","numberData","gtZero","ltZero","nodesMap","nodesIndex","rawData","INVALID_FIELD_ERR_MSG","defaultField","index_1","eachNode","multiView","multiPlot","plots","Association","linkField","data_1","getAssociationItems","charAtLength","charCodeAt","texts","maxLen","maxIdx","getMaxLabelWidthOptimized","ellipsisText","labelLength","getLabelLength","codeLength","strLen","reserveLength","newText","reseveLength","startStr","endStr","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","LOCATION_FIELD_MAP","none","afterUpdate","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","adapteStyle","styleObject","shapeStyleKeys","setStatisticContainerStyle","titleOpt","containerW","liquidShape","customHtml","polarCoord","polarCenter","polarMaxY","containerWidth","areaMapping","areaState","areaParams","lineGeometry","FUNNEL_CONVERSATION_FIELD","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","drill","drawBreadCrumb","breadCrumbGroup","PADDING_TOP","historyCache","backTo","hideCrumbGroup","drillData","nodeData","breadCrumbCfg","drawBreadCrumbGroup","textShapeBox","targetId","newHistoryCache","dividerBox","nodeValue","sumValue","newRatio","minRatio","hierarchy","mapChildren","objectChildren","childs","copyData","that","aNodes","bNodes","leastCommonAncestor","descendants","leaves","node_iterator"],"mappings":"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","file":"static/js/5.3929072a.chunk.js","sourcesContent":["import { GeometryCfg } from './geometry/base';\nimport { IInteractionContext } from './interface';\n\n// \nimport { registerTheme } from './core';\nimport { antvDark } from './theme/style-sheet/dark';\nimport { createThemeByStyleSheet } from './theme/util/create-by-style-sheet';\nregisterTheme('dark', createThemeByStyleSheet(antvDark));\n\n//  G \nimport * as CanvasEngine from '@antv/g-canvas';\nimport * as SVGEngine from '@antv/g-svg';\nimport { registerEngine } from './core';\n\nregisterEngine('canvas', CanvasEngine);\nregisterEngine('svg', SVGEngine);\n\n//  G2  geometry\nimport { registerGeometry } from './core';\nimport Area, { AreaCfg } from './geometry/area';\nimport Edge from './geometry/edge';\nimport Heatmap from './geometry/heatmap';\nimport Interval, { IntervalCfg } from './geometry/interval';\nimport Line from './geometry/line';\nimport Path, { PathCfg } from './geometry/path';\nimport Point from './geometry/point';\nimport Polygon from './geometry/polygon';\nimport Schema from './geometry/schema';\nimport Violin from './geometry/violin';\n\nregisterGeometry('Polygon', Polygon);\nregisterGeometry('Interval', Interval);\nregisterGeometry('Schema', Schema);\nregisterGeometry('Path', Path);\nregisterGeometry('Point', Point);\nregisterGeometry('Line', Line);\nregisterGeometry('Area', Area);\nregisterGeometry('Edge', Edge);\nregisterGeometry('Heatmap', Heatmap);\nregisterGeometry('Violin', Violin);\n\n//  shapes\nimport './geometry/shape/area/line';\nimport './geometry/shape/area/smooth';\nimport './geometry/shape/area/smooth-line';\n\nimport './geometry/shape/edge/arc';\nimport './geometry/shape/edge/smooth';\nimport './geometry/shape/edge/vhv';\n\nimport './geometry/shape/interval/funnel';\nimport './geometry/shape/interval/hollow-rect';\nimport './geometry/shape/interval/line';\nimport './geometry/shape/interval/pyramid';\nimport './geometry/shape/interval/tick';\n\nimport './geometry/shape/line/step';\n\nimport './geometry/shape/point/hollow';\nimport './geometry/shape/point/image';\nimport './geometry/shape/point/solid';\n\nimport './geometry/shape/schema/box';\nimport './geometry/shape/schema/candle';\n\nimport './geometry/shape/polygon/square';\n\nimport './geometry/shape/violin/smooth';\nimport './geometry/shape/violin/hollow';\n\n//  Geometry  label\nimport { registerGeometryLabel } from './core';\nimport GeometryLabel from './geometry/label/base';\nimport IntervalLabel from './geometry/label/interval';\nimport PieLabel from './geometry/label/pie';\nimport PolarLabel from './geometry/label/polar';\n\nregisterGeometryLabel('base', GeometryLabel);\nregisterGeometryLabel('interval', IntervalLabel);\nregisterGeometryLabel('pie', PieLabel);\nregisterGeometryLabel('polar', PolarLabel);\n\n//  Geometry label \nimport { registerGeometryLabelLayout } from './core';\nimport { distribute } from './geometry/label/layout/pie/distribute';\nimport { pieOuterLabelLayout } from './geometry/label/layout/pie/outer';\nimport { pieSpiderLabelLayout } from './geometry/label/layout/pie/spider';\nimport { limitInCanvas } from './geometry/label/layout/limit-in-canvas';\nimport { limitInShape } from './geometry/label/layout/limit-in-shape';\nimport { fixedOverlap, overlap } from './geometry/label/layout/overlap';\nimport { hideOverlap } from './geometry/label/layout/hide-overlap';\nimport { adjustColor } from './geometry/label/layout/adjust-color';\nimport { intervalAdjustPosition } from './geometry/label/layout/interval/adjust-position';\nimport { intervalHideOverlap } from './geometry/label/layout/interval/hide-overlap';\nimport { pointAdjustPosition } from './geometry/label/layout/point/adjust-position';\nimport { pathAdjustPosition } from './geometry/label/layout/path/adjust-position';\nimport { limitInPlot } from './geometry/label/layout/limit-in-plot';\n\nregisterGeometryLabelLayout('overlap', overlap);\nregisterGeometryLabelLayout('distribute', distribute);\nregisterGeometryLabelLayout('fixed-overlap', fixedOverlap);\nregisterGeometryLabelLayout('hide-overlap', hideOverlap);\nregisterGeometryLabelLayout('limit-in-shape', limitInShape);\nregisterGeometryLabelLayout('limit-in-canvas', limitInCanvas);\nregisterGeometryLabelLayout('limit-in-plot', limitInPlot);\nregisterGeometryLabelLayout('pie-outer', pieOuterLabelLayout);\nregisterGeometryLabelLayout('adjust-color', adjustColor);\nregisterGeometryLabelLayout('interval-adjust-position', intervalAdjustPosition);\nregisterGeometryLabelLayout('interval-hide-overlap', intervalHideOverlap);\nregisterGeometryLabelLayout('point-adjust-position', pointAdjustPosition);\nregisterGeometryLabelLayout('pie-spider', pieSpiderLabelLayout);\nregisterGeometryLabelLayout('path-adjust-position', pathAdjustPosition);\n\n// \nimport { fadeIn, fadeOut } from './animate/animation/fade';\nimport { growInX, growInXY, growInY } from './animate/animation/grow-in';\nimport { pathIn } from './animate/animation/path-in';\nimport { positionUpdate } from './animate/animation/position-update';\nimport { scaleInX, scaleInY } from './animate/animation/scale-in';\nimport { sectorPathUpdate } from './animate/animation/sector-path-update';\nimport { waveIn } from './animate/animation/wave-in';\nimport { zoomIn, zoomOut } from './animate/animation/zoom';\nimport { registerAnimation } from './core';\n\nregisterAnimation('fade-in', fadeIn);\nregisterAnimation('fade-out', fadeOut);\nregisterAnimation('grow-in-x', growInX);\nregisterAnimation('grow-in-xy', growInXY);\nregisterAnimation('grow-in-y', growInY);\nregisterAnimation('scale-in-x', scaleInX);\nregisterAnimation('scale-in-y', scaleInY);\nregisterAnimation('wave-in', waveIn);\nregisterAnimation('zoom-in', zoomIn);\nregisterAnimation('zoom-out', zoomOut);\nregisterAnimation('position-update', positionUpdate);\nregisterAnimation('sector-path-update', sectorPathUpdate);\nregisterAnimation('path-in', pathIn);\n\n//  Facet\nimport { registerFacet } from './core';\nimport Circle from './facet/circle';\nimport List from './facet/list';\nimport Matrix from './facet/matrix';\nimport Mirror from './facet/mirror';\nimport Rect from './facet/rect';\nimport Tree from './facet/tree';\n\nregisterFacet('rect', Rect);\nregisterFacet('mirror', Mirror);\nregisterFacet('list', List);\nregisterFacet('matrix', Matrix);\nregisterFacet('circle', Circle);\nregisterFacet('tree', Tree);\n\n//  Component\nimport { registerComponentController } from './core';\n\nimport Annotation from './chart/controller/annotation';\nimport Axis from './chart/controller/axis';\nimport Legend from './chart/controller/legend';\nimport Slider from './chart/controller/slider';\nimport Tooltip from './chart/controller/tooltip';\nimport Scrollbar from './chart/controller/scrollbar';\n\n// register build-in components\nregisterComponentController('axis', Axis);\nregisterComponentController('legend', Legend);\nregisterComponentController('tooltip', Tooltip);\nregisterComponentController('annotation', Annotation);\nregisterComponentController('slider', Slider);\nregisterComponentController('scrollbar', Scrollbar);\n\n//  Interaction Action\nimport { registerAction } from './core';\nimport ActiveRegion from './interaction/action/active-region';\nimport SiblingTooltip from './interaction/action/component/tooltip/sibling';\nimport TooltipAction from './interaction/action/component/tooltip/geometry';\nimport EllipsisTextAction from './interaction/action/component/tooltip/ellipsis-text';\n\nimport ElementActive from './interaction/action/element/active';\nimport ElementLinkByColor from './interaction/action/element/link-by-color';\nimport ElementRangeActive from './interaction/action/element/range-active';\nimport ElementSingleActive from './interaction/action/element/single-active';\n\nimport ElementHighlight from './interaction/action/element/highlight';\nimport ElementHighlightByColor from './interaction/action/element/highlight-by-color';\nimport ElementHighlightByX from './interaction/action/element/highlight-by-x';\n\nimport ElementRangeHighlight, { ELEMENT_RANGE_HIGHLIGHT_EVENTS } from './interaction/action/element/range-highlight';\nimport ElementSingleHighlight from './interaction/action/element/single-highlight';\n\nimport ElementRangeSelected from './interaction/action/element/range-selected';\nimport ElementSelected from './interaction/action/element/selected';\nimport ElementSingleSelected from './interaction/action/element/single-selected';\n\nimport ListActive from './interaction/action/component/list-active';\nimport ListHighlight from './interaction/action/component/list-highlight';\nimport ListSelected from './interaction/action/component/list-selected';\nimport ListUnchecked from './interaction/action/component/list-unchecked';\nimport ListChecked from './interaction/action/component/list-checked';\nimport ListFocus from './interaction/action/component/list-focus';\nimport ListRadio from './interaction/action/component/list-radio';\n\nimport CircleMask from './interaction/action/mask/circle';\nimport DimMask from './interaction/action/mask/dim-rect';\nimport PathMask from './interaction/action/mask/path';\nimport RectMask from './interaction/action/mask/rect';\nimport SmoothPathMask from './interaction/action/mask/smooth-path';\n\nimport CursorAction from './interaction/action/cursor';\nimport DataFilter from './interaction/action/data/filter';\nimport DataRangeFilter, { BRUSH_FILTER_EVENTS } from './interaction/action/data/range-filter';\nimport SiblingFilter from './interaction/action/data/sibling-filter';\n\nimport ElementFilter from './interaction/action/element/filter';\nimport ElementSiblingFilter from './interaction/action/element/sibling-filter';\nimport ButtonAction from './interaction/action/view/button';\nimport ViewDrag from './interaction/action/view/drag';\nimport ViewMove from './interaction/action/view/move';\nimport ScaleTranslate from './interaction/action/view/scale-translate';\nimport ScaleZoom from './interaction/action/view/scale-zoom';\nimport MousewheelScroll from './interaction/action/view/mousewheel-scroll';\nimport AxisDescription from './interaction/action/component/axis/axis-description'\n\nregisterAction('tooltip', TooltipAction);\nregisterAction('sibling-tooltip', SiblingTooltip);\nregisterAction('ellipsis-text', EllipsisTextAction);\nregisterAction('element-active', ElementActive);\nregisterAction('element-single-active', ElementSingleActive);\nregisterAction('element-range-active', ElementRangeActive);\n\nregisterAction('element-highlight', ElementHighlight);\nregisterAction('element-highlight-by-x', ElementHighlightByX);\nregisterAction('element-highlight-by-color', ElementHighlightByColor);\n\nregisterAction('element-single-highlight', ElementSingleHighlight);\nregisterAction('element-range-highlight', ElementRangeHighlight);\nregisterAction('element-sibling-highlight', ElementRangeHighlight, {\n  effectSiblings: true,\n  effectByRecord: true,\n});\n\nregisterAction('element-selected', ElementSelected);\nregisterAction('element-single-selected', ElementSingleSelected);\nregisterAction('element-range-selected', ElementRangeSelected);\nregisterAction('element-link-by-color', ElementLinkByColor);\n\nregisterAction('active-region', ActiveRegion);\nregisterAction('list-active', ListActive);\nregisterAction('list-selected', ListSelected);\nregisterAction('list-highlight', ListHighlight);\nregisterAction('list-unchecked', ListUnchecked);\nregisterAction('list-checked', ListChecked);\nregisterAction('list-focus', ListFocus);\nregisterAction('list-radio', ListRadio);\n\nregisterAction('legend-item-highlight', ListHighlight, {\n  componentNames: ['legend'],\n});\n\nregisterAction('axis-label-highlight', ListHighlight, {\n  componentNames: ['axis'],\n});\nregisterAction('axis-description', AxisDescription)\n\nregisterAction('rect-mask', RectMask);\nregisterAction('x-rect-mask', DimMask, { dim: 'x' });\nregisterAction('y-rect-mask', DimMask, { dim: 'y' });\nregisterAction('circle-mask', CircleMask);\nregisterAction('path-mask', PathMask);\nregisterAction('smooth-path-mask', SmoothPathMask);\n\nregisterAction('cursor', CursorAction);\nregisterAction('data-filter', DataFilter);\n\nregisterAction('brush', DataRangeFilter);\nregisterAction('brush-x', DataRangeFilter, { dims: ['x'] });\nregisterAction('brush-y', DataRangeFilter, { dims: ['y'] });\nregisterAction('sibling-filter', SiblingFilter);\nregisterAction('sibling-x-filter', SiblingFilter);\nregisterAction('sibling-y-filter', SiblingFilter);\n\nregisterAction('element-filter', ElementFilter);\nregisterAction('element-sibling-filter', ElementSiblingFilter);\nregisterAction('element-sibling-filter-record', ElementSiblingFilter, { byRecord: true });\n\nregisterAction('view-drag', ViewDrag);\nregisterAction('view-move', ViewMove);\n\nregisterAction('scale-translate', ScaleTranslate);\nregisterAction('scale-zoom', ScaleZoom);\nregisterAction('reset-button', ButtonAction, {\n  name: 'reset-button',\n  text: 'reset',\n});\n\nregisterAction('mousewheel-scroll', MousewheelScroll);\n\n//  Interaction \nimport { registerInteraction } from './core';\n\nfunction isPointInView(context: IInteractionContext) {\n  return context.isInPlot();\n}\n\n//  tooltip  interaction\nregisterInteraction('tooltip', {\n  start: [\n    { trigger: 'plot:mousemove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n    { trigger: 'plot:touchmove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n  ],\n  end: [\n    { trigger: 'plot:mouseleave', action: 'tooltip:hide' },\n    { trigger: 'plot:leave', action: 'tooltip:hide' },\n    { trigger: 'plot:touchend', action: 'tooltip:hide' },\n  ],\n});\n\nregisterInteraction('ellipsis-text', {\n  start: [\n    {\n      trigger: 'legend-item-name:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'legend-item-name:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n  ],\n  end: [\n    { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:mouseout', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },\n  ],\n});\n\n//  element  active\nregisterInteraction('element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],\n});\n\n// \nregisterInteraction('element-selected', {\n  start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],\n});\n\n// hover highlight\nregisterInteraction('element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],\n});\n\n// hover highlight by x\nregisterInteraction('element-highlight-by-x', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],\n});\n\n// hover highlight by y\nregisterInteraction('element-highlight-by-color', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-highlight', {\n  start: [\n    { trigger: 'legend-item:mouseenter', action: ['legend-item-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('axis-label-highlight', {\n  start: [\n    { trigger: 'axis-label:mouseenter', action: ['axis-label-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'axis-label:mouseleave', action: ['axis-label-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('element-list-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: ['list-highlight:highlight', 'element-highlight:highlight'] }],\n  end: [{ trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// \nregisterInteraction('element-range-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'mask:mouseenter', action: 'cursor:move' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      isEnable(context) {\n        //  mask \n        return !context.isInShape('mask');\n      },\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n    {\n      trigger: 'mask:dragstart',\n      action: ['rect-mask:moveStart'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    {\n      trigger: 'mask:drag',\n      action: ['rect-mask:move'],\n    },\n    {\n      trigger: 'mask:change',\n      action: ['element-range-highlight:highlight'],\n    },\n  ],\n  end: [\n    { trigger: 'plot:mouseup', action: ['rect-mask:end'] },\n    { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },\n    {\n      trigger: 'document:mouseup',\n      isEnable(context) {\n        return !context.isInPlot();\n      },\n      action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],\n});\n\nregisterInteraction('brush', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],\n    },\n  ],\n  rollback: [{ trigger: 'reset-button:click', action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'] }],\n});\n\nregisterInteraction('brush-visible', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },\n  ],\n  end: [\n    {\n      trigger: 'plot:mouseup',\n      action: ['rect-mask:end', 'rect-mask:hide', 'element-filter:filter', 'element-range-highlight:clear'],\n    },\n  ],\n  rollback: [\n    {\n      trigger: 'dblclick',\n      action: ['element-filter:clear'],\n    },\n  ],\n});\n\nregisterInteraction('brush-x', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['x-rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n});\n\nregisterInteraction('element-path-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:start' },\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:show' },\n  ],\n  processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],\n  end: [{ trigger: 'mouseup', action: 'path-mask:end' }],\n  rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],\n});\n\n// \nregisterInteraction('element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],\n});\n\n// \nregisterInteraction('legend-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: ['cursor:pointer', 'list-radio:show'] },\n    { trigger: 'legend-item:mouseleave', action: ['cursor:default', 'list-radio:hide'] },\n  ],\n  start: [\n    {\n      trigger: 'legend-item:click',\n      isEnable: (context) => {\n        return !context.isInShape('legend-item-radio');\n      },\n      action: ['list-unchecked:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n    //  :  radio === truthy  legend-item-radio \n    {\n      trigger: 'legend-item-radio:mouseenter',\n      action: ['list-radio:showTip'],\n    },\n    {\n      trigger: 'legend-item-radio:mouseleave',\n      action: ['list-radio:hideTip'],\n    },\n    {\n      trigger: 'legend-item-radio:click',\n      action: ['list-focus:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n  ],\n});\n\n// \nregisterInteraction('continuous-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],\n});\n// \nregisterInteraction('continuous-visible-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],\n});\n\n// \nregisterInteraction('legend-visible-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'element-filter:filter'] }],\n});\n\n// \nregisterInteraction('active-region', {\n  start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],\n});\n\n// \nregisterInteraction('axis-description', {\n  start: [{ trigger: 'axis-description:mousemove', action: 'axis-description:show' }],\n  end: [{ trigger: 'axis-description:mouseleave', action: 'axis-description:hide' }]\n})\n\nfunction isWheelDown(event) {\n  event.gEvent.preventDefault();\n  return event.gEvent.originalEvent.deltaY > 0;\n}\nregisterInteraction('view-zoom', {\n  start: [\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomOut',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return !isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomIn',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n});\n\nregisterInteraction('sibling-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],\n});\n\nregisterInteraction('plot-mousewheel-scroll', {\n  start: [{ trigger: 'plot:mousewheel', action: 'mousewheel-scroll:scroll' }],\n});\n\n//  TS  View  Geometry \n/**\n *  View  Geometry \n *\n * Tips:\n * view module augmentation, detail: http://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n */\ndeclare module './chart/view' {\n  interface View {\n    /**\n     *  Polygon \n     * @param [cfg]  Polygon \n     * @returns polygon  Polygon \n     */\n    polygon(cfg?: Partial<GeometryCfg>): Polygon;\n    /**\n     *  Point \n     * @param [cfg]  Point \n     * @returns point  Point \n     */\n    point(cfg?: Partial<GeometryCfg>): Point;\n    /**\n     *  Interval \n     * @param [cfg]  Interval \n     * @returns interval  Interval \n     */\n    interval(cfg?: Partial<IntervalCfg>): Interval;\n    /**\n     *  Schema \n     * @param [cfg]  Schema \n     * @returns schema  Schema \n     */\n    schema(cfg?: Partial<GeometryCfg>): Schema;\n    /**\n     *  Path \n     * @param [cfg]  Path \n     * @returns path  Path \n     */\n    path(cfg?: Partial<PathCfg>): Path;\n    /**\n     *  Line \n     * @param [cfg]  Line \n     * @returns line  Line \n     */\n    line(cfg?: Partial<PathCfg>): Line;\n    /**\n     *  Area \n     * @param [cfg]  Area \n     * @returns area  Area \n     */\n    area(cfg?: Partial<AreaCfg>): Area;\n    /**\n     *  Edge \n     * @param [cfg]  Edge \n     * @returns schema  Edge \n     */\n    edge(cfg?: Partial<GeometryCfg>): Edge;\n    /**\n     *  Heatmap \n     * @param [cfg]  Heatmap \n     * @returns heatmap  Heatmap \n     */\n    heatmap(cfg?: Partial<GeometryCfg>): Heatmap;\n    /**\n     *  Violin \n     * @param [cfg]  Violin \n     * @returns violin  Violin \n     */\n    violin(cfg?: Partial<GeometryCfg>): Violin;\n  }\n}\n\n// \nexport { VIEW_LIFE_CIRCLE } from './constant';\n/** brush  */\nexport { BRUSH_FILTER_EVENTS, ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\nexport * from './core';\n","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,"/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n",null,"/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n",null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","export * from './common';\nexport * from './tooltip';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\nexport * from './meta';\nexport * from './axis';\nexport * from './interaction';\nexport * from './annotation';\nexport * from './locale';\nexport * from './button';\n\n/**  readonly  */\nexport type Writable<T> = { -readonly [P in keyof T]: T[P] };\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,"import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n",null,null,null,null,null,null,null,null,null,"import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n",null,null,null,null,null,"import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","// @ts-ignore\nimport ReactDOM from 'react-dom';\nvar createNode = function (children, type) {\n    var mountPoint = document.createElement('div');\n    if (type === 'tooltip') {\n        mountPoint.className = 'g2-tooltip';\n    }\n    ReactDOM.render(children, mountPoint);\n    return mountPoint;\n};\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport var isType = function (value, type) {\n    var toString = {}.toString;\n    return toString.call(value) === \"[object \".concat(type, \"]\");\n};\nexport var clone = function (source) {\n    if (!source) {\n        return source;\n    }\n    var target = {};\n    // eslint-disable-next-line guard-for-in\n    for (var k in source) {\n        target[k] = source[k];\n    }\n    return target;\n};\nexport var getType = function (n) {\n    return Object.prototype.toString.call(n).slice(8, -1);\n};\n/**\n * \n * @param source \n */\nexport var deepClone = function (source) {\n    if (!source || typeof source !== 'object') {\n        return source;\n    }\n    var target;\n    if (Array.isArray(source)) {\n        target = source.map(function (item) { return deepClone(item); });\n    }\n    else {\n        target = {};\n        Object.keys(source).forEach(function (key) {\n            return (target[key] = deepClone(source[key]));\n        });\n    }\n    return target;\n};\n/**\n *  undefined\n */\nexport var hasPath = function (source, path) {\n    var current = source;\n    for (var i = 0; i < path.length; i += 1) {\n        if (current === null || current === void 0 ? void 0 : current[path[i]]) {\n            current = current[path[i]];\n        }\n        else {\n            current = undefined;\n            break;\n        }\n    }\n    return current;\n};\n/**\n *  params \n */\nexport var setPath = function (source, path, value) {\n    if (!source) {\n        return source;\n    }\n    var o = source;\n    path.forEach(function (key, idx) {\n        // \n        if (idx < path.length - 1) {\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return source;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport createNode from '../util/createNode';\nimport { hasPath, isType, deepClone, clone, setPath } from '../util';\nexport default function useInit(ChartClass, config) {\n    var chart = useRef();\n    var chartOptions = useRef();\n    var container = useRef(null);\n    var onReady = config.onReady, onEvent = config.onEvent;\n    /**\n     * Get data base64\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var toDataURL = function (type, encoderOptions) {\n        var _a;\n        if (type === void 0) { type = 'image/png'; }\n        return (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    };\n    /**\n     * Download Iamge\n     * @param {string} name A name of image\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var downloadImage = function (name, type, encoderOptions) {\n        var _a;\n        if (name === void 0) { name = 'download'; }\n        if (type === void 0) { type = 'image/png'; }\n        var imageName = name;\n        if (name.indexOf('.') === -1) {\n            imageName = \"\".concat(name, \".\").concat(type.split('/')[1]);\n        }\n        var base64 = (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n        var a = document.createElement('a');\n        a.href = base64;\n        a.download = imageName;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        a = null;\n        return imageName;\n    };\n    var reactDomToString = function (source, path, type) {\n        var statisticCustomHtml = hasPath(source, path);\n        setPath(source, path, function () {\n            var arg = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                arg[_i] = arguments[_i];\n            }\n            var statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml.apply(void 0, arg) : statisticCustomHtml;\n            if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n                return statisticDom;\n            }\n            return createNode(statisticDom, type);\n        });\n    };\n    var processConfig = function () {\n        // statistic\n        if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'content', 'customHtml']);\n        }\n        if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'title', 'customHtml']);\n        }\n        // tooltip\n        if (typeof config.tooltip === 'object') {\n            if (hasPath(config, ['tooltip', 'container'])) {\n                reactDomToString(config, ['tooltip', 'container'], 'tooltip');\n            }\n            if (hasPath(config, ['tooltip', 'customContent'])) {\n                reactDomToString(config, ['tooltip', 'customContent'], 'tooltip');\n            }\n        }\n    };\n    useEffect(function () {\n        if (chart.current && !isEqual(chartOptions.current, config)) {\n            var changeData = false;\n            if (chartOptions.current) {\n                //  options  data value  percent \n                var _a = chartOptions.current, currentData = _a.data, currentValue = _a.value, currentPercent = _a.percent, currentConfig = __rest(_a, [\"data\", \"value\", \"percent\"]);\n                var inputData = config.data, inputValue = config.value, inputPercent = config.percent, inputConfig = __rest(config, [\"data\", \"value\", \"percent\"]);\n                changeData = isEqual(currentConfig, inputConfig);\n            }\n            chartOptions.current = deepClone(config);\n            if (changeData && get(config, 'chartType') !== 'Mix') {\n                var changeType_1 = 'data';\n                var typeMaps = ['percent']; //  data  RingProgress\n                var currentKeys_1 = Object.keys(config);\n                typeMaps.forEach(function (type) {\n                    if (currentKeys_1.includes(type)) {\n                        changeType_1 = type;\n                    }\n                });\n                chart.current.changeData((config === null || config === void 0 ? void 0 : config[changeType_1]) || []);\n            }\n            else {\n                processConfig();\n                chart.current.update(config);\n            }\n        }\n    }, [config]);\n    useEffect(function () {\n        if (!container.current) {\n            return function () { return null; };\n        }\n        if (!chartOptions.current) {\n            chartOptions.current = deepClone(config);\n        }\n        processConfig();\n        var chartInstance = new ChartClass(container.current, __assign({}, config));\n        chartInstance.toDataURL = function (type, encoderOptions) {\n            return toDataURL(type, encoderOptions);\n        };\n        chartInstance.downloadImage = function (name, type, encoderOptions) {\n            return downloadImage(name, type, encoderOptions);\n        };\n        chartInstance.render();\n        chart.current = clone(chartInstance);\n        if (onReady) {\n            onReady(chartInstance);\n        }\n        var handler = function (event) {\n            if (onEvent) {\n                onEvent(chartInstance, event);\n            }\n        };\n        chartInstance.on('*', handler);\n        // \n        return function () {\n            if (chart.current) {\n                chart.current.destroy();\n                chart.current.off('*', handler);\n                chart.current = undefined;\n            }\n        };\n    }, []);\n    return {\n        chart: chart,\n        container: container,\n    };\n}\n","import { isFunction } from '@antv/util';\n/**\n * \n */\nexport var getChart = function (chartRef, chart) {\n    if (!chartRef) {\n        return;\n    }\n    if (isFunction(chartRef)) {\n        chartRef(chart);\n    }\n    else {\n        chartRef.current = chart;\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Fragment } from 'react';\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false,\n        };\n        _this.renderError = function (e) {\n            var errorTemplate = _this.props.errorTemplate;\n            switch (e) {\n                default:\n                    // fallback\n                    return errorTemplate && typeof errorTemplate === 'function' ? (errorTemplate(e)) : (React.createElement(\"h5\", null,\n                        \"\\u7EC4\\u4EF6\\u51FA\\u9519\\u4E86\\uFF0C\\u8BF7\\u6838\\u67E5\\u540E\\u91CD\\u8BD5\\uFF1A \",\n                        e.message));\n            }\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return { hasError: true, error: error };\n    };\n    ErrorBoundary.getDerivedStateFromProps = function (nextProps, state) {\n        if (state.children !== nextProps.children) {\n            return {\n                children: nextProps.children,\n                hasError: false,\n                error: undefined,\n            };\n        }\n        return null;\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.renderError(this.state.error);\n        }\n        return React.createElement(Fragment, null, this.props.children);\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport default ErrorBoundary;\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\nvar ChartLoading = function (_a) {\n    var loadingTemplate = _a.loadingTemplate, _b = _a.theme, theme = _b === void 0 ? 'light' : _b;\n    var renderLoading = function () {\n        if (loadingTemplate) {\n            return loadingTemplate;\n        }\n        return (React.createElement(ContentLoader, { viewBox: \"0 0 400 180\", width: 200, height: 90, speed: 1, backgroundColor: theme === 'dark' ? '#262626' : '#D9D9D9' },\n            React.createElement(\"rect\", { x: \"20\", y: \"5\", rx: \"0\", ry: \"0\", width: \"1\", height: \"170\" }),\n            React.createElement(\"rect\", { x: \"20\", y: \"175\", rx: \"0\", ry: \"0\", width: \"360\", height: \"1\" }),\n            React.createElement(\"rect\", { x: \"40\", y: \"75\", rx: \"0\", ry: \"0\", width: \"35\", height: \"100\" }),\n            React.createElement(\"rect\", { x: \"80\", y: \"125\", rx: \"0\", ry: \"0\", width: \"35\", height: \"50\" }),\n            React.createElement(\"rect\", { x: \"120\", y: \"105\", rx: \"0\", ry: \"0\", width: \"35\", height: \"70\" }),\n            React.createElement(\"rect\", { x: \"160\", y: \"35\", rx: \"0\", ry: \"0\", width: \"35\", height: \"140\" }),\n            React.createElement(\"rect\", { x: \"200\", y: \"55\", rx: \"0\", ry: \"0\", width: \"35\", height: \"120\" }),\n            React.createElement(\"rect\", { x: \"240\", y: \"15\", rx: \"0\", ry: \"0\", width: \"35\", height: \"160\" }),\n            React.createElement(\"rect\", { x: \"280\", y: \"135\", rx: \"0\", ry: \"0\", width: \"35\", height: \"40\" }),\n            React.createElement(\"rect\", { x: \"320\", y: \"85\", rx: \"0\", ry: \"0\", width: \"35\", height: \"90\" })));\n    };\n    return (React.createElement(\"div\", { className: \"charts-loading-container\", style: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n        } }, renderLoading()));\n};\nexport default ChartLoading;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Pie as G2plotPie } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar PieChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotPie, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default PieChart;\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n","import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.4';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n}\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(labelItems: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  label rank\n  return new Promise((resolve) => {\n    const boxes = labels.map((d, idx) => ({\n      ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n      visible: true,\n    }));\n    const memoKey = JSON.stringify(boxes);\n    const cb = (items: Item[]) => {\n      cache.set(memoKey, items);\n      each(items, ({ visible }, idx) => {\n        const labelShape = labels[idx];\n        if (visible) {\n          labelShape?.show()\n        } else {\n          labelShape?.hide();\n        }\n      });\n      return resolve(items);\n    }\n    if (cache.get(memoKey)) {\n      cb(cache.get(memoKey))\n    } else if (worker) {\n      // Do layout in worker.\n      try {\n        worker.postMessage(JSON.stringify({ type: 'hide-overlap', items: boxes }));\n        worker.onmessage = (e) => cb(Array.isArray(e.data) ? e.data : []);\n        worker.onmessageerror = (e) => {\n          console.warn('[AntV G2] Web worker is not available');\n          // Normal layout in main thread.\n          cb(layout(boxes));\n        };\n      } catch (e) {\n        console.error(e);\n        cb(layout(boxes));\n      }\n    } else {\n      // Normal layout in main thread.\n      cb(layout(boxes));\n    }\n  });\n}\n","export function createWorker(f: any) {\n  if (typeof window === \"undefined\") return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new Worker(URL.createObjectURL(blob));\n}\n","import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle, arcFlag } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5) && arcFlag) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n",null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n",null,null,null,null,null,null,null,null,null,null,"import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;",null,null,null,null,null,null,null,null,null,"import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n",null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};",null,"import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,"import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n"],"sourceRoot":""}